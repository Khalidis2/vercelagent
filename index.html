<!DOCTYPE html>
<!-- saved from url=(0077)file:///C:/Users/aaldh/OneDrive/Desktop/KClaude/%D8%B9%D8%B2%D8%A8%D8%A9.html -->
<html lang="ar" dir="rtl"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Ø¹Ø²Ø¨Ø©">
<meta name="theme-color" content="#0f3d2e">
<title>Ø¹Ø²Ø¨ØªÙŠ â€” Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø²Ø±Ø¹Ø©</title>
<link rel="manifest" href="data:application/json;charset=utf-8,%7B%22name%22%3A%22%D9%86%D8%B8%D8%A7%D9%85%20%D8%A5%D8%AF%D8%A7%D8%B1%D8%A9%20%D8%A7%D9%84%D8%B9%D8%B2%D8%A8%D8%A9%22%2C%22short_name%22%3A%22%D8%B9%D8%B2%D8%A8%D8%A9%22%2C%22start_url%22%3A%22.%2F%D8%B9%D8%B2%D8%A8%D8%A9.html%22%2C%22display%22%3A%22standalone%22%2C%22background_color%22%3A%22%230f3d2e%22%2C%22theme_color%22%3A%22%230f3d2e%22%2C%22lang%22%3A%22ar%22%7D">
<link rel="preconnect" href="https://fonts.googleapis.com/">
<link href="./Ø¹Ø²Ø¨ØªÙŠ â€” Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø²Ø±Ø¹Ø©_files/css2" rel="stylesheet">
<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DESIGN TOKENS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root {
  --green:        #1a9e5c;
  --green-dark:   #0f6b3c;
  --green-deeper: #0a4526;
  --green-glow:   rgba(26,158,92,.18);
  --green-pale:   #e6f9f0;
  --red:          #e53935;
  --red-dark:     #b71c1c;
  --red-pale:     #ffeaea;
  --amber:        #f59e0b;
  --amber-dark:   #b45309;
  --amber-pale:   #fff8e1;
  --blue:         #1565c0;
  --blue-pale:    #e3f0ff;
  --purple:       #6d28d9;
  --purple-pale:  #ede9fe;

  --bg:     #f0f4f3;
  --card:   #ffffff;
  --border: #d8e6e0;
  --text:   #0d1f17;
  --muted:  #5a7569;
  --light:  #a8c4b8;

  --r:    18px;
  --r-sm: 10px;
  --r-xs:  6px;

  --sh:    0 2px 8px rgba(0,0,0,.07), 0 0 1px rgba(0,0,0,.06);
  --sh-md: 0 6px 24px rgba(0,0,0,.10), 0 1px 4px rgba(0,0,0,.06);
  --sh-lg: 0 16px 48px rgba(0,0,0,.14);
}
*  { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
html { scroll-behavior: smooth; }
body {
  font-family: 'Cairo', Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  direction: rtl;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SPIN ANIMATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@keyframes spin { to { transform: rotate(360deg); } }
@keyframes fadeIn { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:translateY(0); } }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SYNC BANNER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#syncBanner {
  display: none;
  position: fixed; top: 0; left: 0; right: 0; z-index: 9999;
  background: var(--green-dark);
  color: #fff;
  padding: 10px 20px;
  align-items: center; gap: 10px;
  font-size: .85rem; font-weight: 700;
  box-shadow: 0 2px 12px rgba(0,0,0,.25);
}
#syncBanner .spin { display: inline-block; animation: spin 1s linear infinite; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HEADER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
header {
  background: linear-gradient(145deg, var(--green-deeper) 0%, var(--green-dark) 60%, #1a6b40 100%);
  color: #fff;
  padding: 0 24px;
  height: 72px;
  display: flex; align-items: center; justify-content: space-between;
  position: sticky; top: 0; z-index: 100;
  box-shadow: 0 4px 20px rgba(0,0,0,.3);
}
.hdr-brand { display: flex; align-items: center; gap: 14px; }
.hdr-logo {
  width: 46px; height: 46px;
  background: rgba(255,255,255,.15);
  border: 2px solid rgba(255,255,255,.3);
  border-radius: 14px;
  display: flex; align-items: center; justify-content: center;
  font-size: 1.5rem;
  backdrop-filter: blur(4px);
}
.hdr-title { line-height: 1.2; }
.hdr-title h1 { font-size: 1.15rem; font-weight: 900; letter-spacing: -.01em; }
.hdr-title span { font-size: .72rem; opacity: .7; font-weight: 400; }
.hdr-right { display: flex; align-items: center; gap: 10px; }

/* glass chip */
.glass-chip {
  background: rgba(255,255,255,.12);
  border: 1px solid rgba(255,255,255,.2);
  border-radius: 20px;
  padding: 5px 14px;
  font-size: .75rem; font-weight: 700;
  white-space: nowrap; color: #fff;
  backdrop-filter: blur(4px);
}
/* header buttons */
.hdr-btn {
  background: rgba(255,255,255,.15);
  border: 1px solid rgba(255,255,255,.25);
  color: #fff;
  border-radius: 20px;
  padding: 6px 14px;
  font-size: .78rem; font-weight: 700; cursor: pointer;
  font-family: inherit;
  transition: background .2s;
  display: none;
}
.hdr-btn:hover { background: rgba(255,255,255,.25); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DESKTOP NAV
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
nav {
  background: #fff;
  border-bottom: 2px solid var(--border);
  display: flex; gap: 0; padding: 0 12px;
  overflow-x: auto; scrollbar-width: none;
}
nav::-webkit-scrollbar { display: none; }
nav button {
  background: none; border: none; border-bottom: 3px solid transparent;
  color: var(--muted);
  padding: 14px 18px;
  font-size: .84rem; font-weight: 700; cursor: pointer;
  font-family: inherit; white-space: nowrap;
  display: flex; align-items: center; gap: 6px;
  transition: color .2s, border-color .2s;
  margin-bottom: -2px;
}
nav button:hover { color: var(--green); }
nav button.active { color: var(--green); border-bottom-color: var(--green); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MOBILE BOTTOM NAV
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#mobileNav {
  display: none;
  position: fixed; bottom: 0; left: 0; right: 0; z-index: 200;
  background: #fff;
  border-top: 1.5px solid var(--border);
  padding: 6px 4px max(8px, env(safe-area-inset-bottom));
  box-shadow: 0 -4px 24px rgba(0,0,0,.1);
}
.m-nav-inner { display: flex; justify-content: space-around; }
.m-nav-btn {
  display: flex; flex-direction: column; align-items: center; gap: 3px;
  padding: 6px 10px; border-radius: 12px;
  border: none; background: none; cursor: pointer;
  font-family: inherit; color: var(--muted);
  transition: all .15s; min-width: 54px;
}
.m-nav-btn .icon { font-size: 1.4rem; line-height: 1; }
.m-nav-btn .label { font-size: .58rem; font-weight: 700; }
.m-nav-btn.active { color: var(--green); background: var(--green-pale); }

#moreMenu {
  display: none; position: fixed;
  bottom: 74px; left: 8px; right: 8px;
  background: #fff; border-radius: var(--r);
  box-shadow: var(--sh-lg); padding: 10px; z-index: 300;
  border: 1px solid var(--border);
  grid-template-columns: 1fr 1fr; gap: 8px;
}
#moreMenu.open { display: grid; }
.more-item {
  display: flex; align-items: center; gap: 10px;
  padding: 13px 14px; border-radius: 12px;
  cursor: pointer; border: none; background: var(--bg);
  font-family: inherit; font-size: .9rem; font-weight: 700;
  color: var(--text); transition: background .15s; width: 100%;
  text-align: right;
}
.more-item:hover, .more-item.active { background: var(--green-pale); color: var(--green); }
#moreOverlay {
  display: none; position: fixed; inset: 0; z-index: 299; background: rgba(0,0,0,.25);
}
#moreOverlay.open { display: block; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MAIN / SECTIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
main { padding: 28px 24px; max-width: 1240px; margin: 0 auto; }
.section { display: none; animation: fadeIn .25s ease; }
.section.active { display: block; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PAGE HEADER ROW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.page-hdr {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 24px; flex-wrap: wrap; gap: 10px;
}
.page-hdr h2 {
  font-size: 1.5rem; font-weight: 900;
  color: var(--text); display: flex; align-items: center; gap: 10px;
}
.page-hdr h2 .tag {
  font-size: .72rem; font-weight: 700;
  background: var(--green-pale); color: var(--green);
  border-radius: var(--r-xs); padding: 3px 10px;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STAT CARDS â€” BIG & BOLD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.kpi-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 18px;
  margin-bottom: 28px;
}
.kpi {
  border-radius: var(--r);
  padding: 24px 22px;
  display: flex; align-items: flex-start; gap: 18px;
  box-shadow: var(--sh-md);
  position: relative; overflow: hidden;
  transition: transform .2s, box-shadow .2s;
  cursor: default;
}
.kpi:hover { transform: translateY(-3px); box-shadow: var(--sh-lg); }
/* colour variants */
.kpi-green  { background: linear-gradient(135deg, #0f6b3c 0%, #1a9e5c 100%); }
.kpi-red    { background: linear-gradient(135deg, #b71c1c 0%, #e53935 100%); }
.kpi-blue   { background: linear-gradient(135deg, #0d47a1 0%, #1565c0 100%); }
.kpi-amber  { background: linear-gradient(135deg, #b45309 0%, #f59e0b 100%); }
.kpi-purple { background: linear-gradient(135deg, #4c1d95 0%, #7c3aed 100%); }
/* decorative circle */
.kpi::after {
  content: '';
  position: absolute; top: -24px; left: -24px;
  width: 120px; height: 120px;
  border-radius: 50%;
  background: rgba(255,255,255,.07);
  pointer-events: none;
}
.kpi-icon {
  width: 58px; height: 58px; border-radius: 16px;
  background: rgba(255,255,255,.18);
  display: flex; align-items: center; justify-content: center;
  font-size: 1.8rem; flex-shrink: 0;
  border: 1.5px solid rgba(255,255,255,.2);
}
.kpi-body { flex: 1; min-width: 0; }
.kpi-label {
  font-size: .78rem; font-weight: 700;
  color: rgba(255,255,255,.75);
  margin-bottom: 6px; text-transform: uppercase; letter-spacing: .04em;
}
.kpi-value {
  font-size: 1.85rem; font-weight: 900;
  color: #fff; line-height: 1; word-break: break-all;
}
.kpi-sub {
  font-size: .72rem; color: rgba(255,255,255,.6);
  margin-top: 4px; font-weight: 600;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PANEL (white card)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.panel {
  background: var(--card);
  border-radius: var(--r);
  padding: 24px;
  box-shadow: var(--sh);
  margin-bottom: 22px;
  border: 1.5px solid var(--border);
}
.panel-hdr {
  display: flex; align-items: center; justify-content: space-between;
  padding-bottom: 16px; margin-bottom: 20px;
  border-bottom: 1.5px solid var(--border);
}
.panel-title {
  font-size: 1rem; font-weight: 800;
  color: var(--text);
  display: flex; align-items: center; gap: 10px;
}
.panel-title-icon {
  width: 34px; height: 34px;
  background: var(--green-pale);
  border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  font-size: 1rem;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FORMS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
  gap: 16px; margin-bottom: 20px;
}
.form-group { display: flex; flex-direction: column; gap: 7px; }
.form-group label {
  font-size: .78rem; font-weight: 800;
  color: var(--muted); text-transform: uppercase; letter-spacing: .04em;
}
.form-group input,
.form-group select,
.form-group textarea {
  border: 2px solid var(--border);
  border-radius: var(--r-sm);
  padding: 11px 14px;
  font-size: .93rem; outline: none;
  background: var(--bg); color: var(--text);
  font-family: inherit; transition: all .2s;
  appearance: none; -webkit-appearance: none;
}
.form-group select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%235a7569' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: left 12px center;
  padding-left: 34px;
}
.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
  border-color: var(--green);
  background: #fff;
  box-shadow: 0 0 0 4px var(--green-glow);
}
.form-group textarea { resize: vertical; min-height: 80px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BUTTONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.btn {
  padding: 12px 26px; border-radius: var(--r-sm);
  border: none; cursor: pointer;
  font-size: .9rem; font-weight: 800; font-family: inherit;
  transition: all .18s; display: inline-flex; align-items: center; gap: 8px;
  letter-spacing: .01em;
}
.btn:active { transform: scale(.96); }

.btn-green {
  background: linear-gradient(135deg, var(--green-dark), var(--green));
  color: #fff;
  box-shadow: 0 4px 14px rgba(26,158,92,.4);
}
.btn-green:hover { box-shadow: 0 6px 20px rgba(26,158,92,.5); transform: translateY(-1px); }

.btn-red {
  background: linear-gradient(135deg, var(--red-dark), var(--red));
  color: #fff;
  box-shadow: 0 4px 14px rgba(229,57,53,.3);
}
.btn-red:hover { box-shadow: 0 6px 20px rgba(229,57,53,.4); transform: translateY(-1px); }

.btn-amber {
  background: linear-gradient(135deg, var(--amber-dark), var(--amber));
  color: #fff;
  box-shadow: 0 4px 14px rgba(245,158,11,.35);
}
.btn-amber:hover { box-shadow: 0 6px 20px rgba(245,158,11,.45); transform: translateY(-1px); }

.btn-blue {
  background: linear-gradient(135deg, #0d47a1, var(--blue));
  color: #fff;
  box-shadow: 0 4px 14px rgba(21,101,192,.3);
}
.btn-blue:hover { box-shadow: 0 6px 20px rgba(21,101,192,.4); transform: translateY(-1px); }

.btn-ghost {
  background: var(--bg); color: var(--text);
  border: 2px solid var(--border);
  box-shadow: none;
}
.btn-ghost:hover { border-color: var(--green); color: var(--green); }

.btn-sm { padding: 6px 14px; font-size: .78rem; border-radius: var(--r-xs); box-shadow: none; }
.btn-sm:hover { transform: none; }
.btn-xs { padding: 4px 10px; font-size: .72rem; border-radius: 5px; box-shadow: none; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TABLE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.tbl-wrap { overflow-x: auto; border-radius: var(--r-sm); }
table { width: 100%; border-collapse: collapse; font-size: .86rem; }
thead tr { background: linear-gradient(90deg, var(--green-deeper) 0%, var(--green-dark) 100%); }
th {
  padding: 13px 16px;
  text-align: right; font-weight: 800;
  color: #fff; font-size: .76rem;
  letter-spacing: .04em; white-space: nowrap;
}
td {
  padding: 13px 16px;
  border-bottom: 1.5px solid var(--border);
  vertical-align: middle; color: var(--text);
}
tbody tr:last-child td { border-bottom: none; }
tbody tr:hover td { background: var(--green-pale); }
.td-amount-green { color: var(--green-dark); font-weight: 800; font-size: .92rem; }
.td-amount-red   { color: var(--red-dark);   font-weight: 800; font-size: .92rem; }
.td-amount-blue  { color: var(--blue);        font-weight: 800; font-size: .92rem; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BADGES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.badge {
  padding: 4px 12px; border-radius: 20px;
  font-size: .74rem; font-weight: 800;
  display: inline-block; white-space: nowrap;
}
.badge-green  { background: var(--green-pale); color: var(--green-dark); }
.badge-red    { background: var(--red-pale);   color: var(--red-dark); }
.badge-amber  { background: var(--amber-pale); color: var(--amber-dark); }
.badge-blue   { background: var(--blue-pale);  color: var(--blue); }
.badge-purple { background: var(--purple-pale);color: var(--purple); }
.badge-brown  { background: #f0ebe4; color: #6b4c2a; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SUB TABS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.sub-tabs {
  display: flex; gap: 8px; margin-bottom: 20px;
  background: var(--card); border-radius: var(--r-sm);
  padding: 6px; border: 1.5px solid var(--border);
  width: fit-content; box-shadow: var(--sh);
}
.sub-tab {
  padding: 9px 20px; border-radius: 8px; border: none;
  background: transparent; color: var(--muted);
  cursor: pointer; font-size: .84rem; font-weight: 800;
  font-family: inherit; transition: all .2s; white-space: nowrap;
}
.sub-tab.active {
  background: linear-gradient(135deg, var(--green-dark), var(--green));
  color: #fff;
  box-shadow: 0 3px 10px rgba(26,158,92,.35);
}
.sub-tab:hover:not(.active) { background: var(--green-pale); color: var(--green); }
.sub-panel { display: none; }
.sub-panel.active { display: block; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FILTER BAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.filter-bar {
  display: flex; gap: 10px; align-items: center;
  margin-bottom: 18px; flex-wrap: wrap;
}
.filter-bar input, .filter-bar select {
  border: 2px solid var(--border); border-radius: var(--r-sm);
  padding: 9px 14px; font-size: .84rem; outline: none;
  background: var(--bg); font-family: inherit; color: var(--text);
  transition: border .2s; appearance: none;
}
.filter-bar select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%235a7569' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: left 10px center;
  padding-left: 30px;
}
.filter-bar input:focus, .filter-bar select:focus { border-color: var(--green); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TWO COL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   EMPTY STATE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.empty-state {
  text-align: center; padding: 44px 20px;
  color: var(--light); font-size: .9rem; font-weight: 700;
}
.empty-state::before { content: 'ğŸ“­'; display: block; font-size: 2.5rem; margin-bottom: 10px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DIVIDER ROW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.totals-row {
  display: flex; justify-content: flex-start; align-items: center;
  padding: 12px 16px; border-radius: var(--r-sm);
  background: var(--green-pale); margin-top: 14px;
  font-weight: 800; font-size: .92rem; color: var(--green-dark);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ALERTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.alert { padding: 13px 18px; border-radius: var(--r-sm); margin-bottom: 16px; font-size: .88rem; font-weight: 700; }
.alert-warn    { background: var(--amber-pale); border-right: 4px solid var(--amber);  color: var(--amber-dark); }
.alert-success { background: var(--green-pale); border-right: 4px solid var(--green);  color: var(--green-dark); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INSTALL / IOS BANNERS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#installBanner {
  position: fixed; bottom: 0; left: 0; right: 0;
  background: linear-gradient(135deg, var(--green-deeper), var(--green-dark));
  color: #fff; padding: 14px 20px; z-index: 9999;
  display: flex; align-items: center; justify-content: space-between; gap: 10px;
  box-shadow: 0 -4px 24px rgba(0,0,0,.25);
}
#installBanner.hidden { display: none !important; }
#installBanner p { font-size: .88rem; margin: 0; flex: 1; font-weight: 700; }
.banner-btns { display: flex; gap: 8px; }
#installBanner button {
  border: none; border-radius: 8px; padding: 8px 18px;
  font-size: .84rem; cursor: pointer; font-weight: 800; font-family: inherit;
}
#btnInstall  { background: #fff; color: var(--green-dark); }
#btnDismiss  { background: rgba(255,255,255,.15); color: #fff; border: 1px solid rgba(255,255,255,.3) !important; }

#iosHint {
  display: none; position: fixed;
  bottom: 84px; left: 16px; right: 16px;
  background: #1e293b; color: #fff; border-radius: var(--r);
  padding: 20px; z-index: 10000; font-size: .9rem;
  line-height: 1.8; text-align: center;
  box-shadow: var(--sh-lg);
}
#iosHint .arrow-down {
  width: 0; height: 0;
  border-left: 12px solid transparent; border-right: 12px solid transparent;
  border-top: 12px solid #1e293b; margin: 10px auto 0;
}
#iosHint button {
  margin-top: 12px; background: var(--green); color: #fff;
  border: none; border-radius: 8px; padding: 8px 22px;
  cursor: pointer; font-weight: 800; font-family: inherit;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PRINT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media print {
  nav, #mobileNav, header .hdr-btn, #installBanner, #syncBanner { display: none !important; }
  .section { display: block !important; }
  main { padding: 0; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESPONSIVE â€” DESKTOP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media (min-width: 601px) {
  #mobileNav { display: none !important; }
  nav { display: flex; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESPONSIVE â€” MOBILE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media (max-width: 600px) {
  nav { display: none; }
  #mobileNav { display: block; }
  main { padding: 16px 12px 96px; }
  header { padding: 0 14px; height: 64px; }
  .hdr-logo { width: 40px; height: 40px; font-size: 1.3rem; }
  .hdr-title h1 { font-size: 1rem; }
  .hdr-title span { display: none; }
  .glass-chip { display: none; }

  .kpi-grid { grid-template-columns: 1fr 1fr; gap: 12px; }
  .kpi { padding: 18px 14px; gap: 12px; }
  .kpi-icon { width: 48px; height: 48px; font-size: 1.4rem; border-radius: 12px; }
  .kpi-value { font-size: 1.4rem; }
  .kpi-label { font-size: .7rem; }

  .two-col { grid-template-columns: 1fr; }
  .panel { padding: 16px 14px; border-radius: 14px; }
  .form-grid { grid-template-columns: 1fr; gap: 12px; }
  table { font-size: .77rem; }
  th, td { padding: 10px 12px; }
  .sub-tabs { width: 100%; overflow-x: auto; }
  .sub-tab { padding: 8px 14px; font-size: .8rem; }
  .btn { padding: 11px 20px; font-size: .87rem; }
  .page-hdr h2 { font-size: 1.2rem; }
}
</style>
</head>
<body>

<!-- Sync Banner -->
<div id="syncBanner" style="display: none;">
  <span class="spin">âŸ³</span>
  <span class="sync-msg">âœ… ØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„ â€” 8 Ø¹Ù…Ù„ÙŠØ©</span>
  <button onclick="document.getElementById(&#39;syncBanner&#39;).style.display=&#39;none&#39;" style="margin-right:auto;background:rgba(255,255,255,0.2);border:none;color:white;border-radius:6px;padding:3px 10px;cursor:pointer;font-family:inherit;">âœ•</button>
</div>

<!-- Install Banner -->
<div id="installBanner" class="hidden">
  <p>ğŸ“² Ø£Ø¶Ù Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„Ø´Ø§Ø´ØªÙƒ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹!</p>
  <div class="banner-btns">
    <button id="btnInstall">ØªØ«Ø¨ÙŠØª</button>
    <button id="btnDismiss">Ù„Ø§Ø­Ù‚Ø§Ù‹</button>
  </div>
</div>

<!-- iOS Hint -->
<div id="iosHint">
  <strong>Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ Ø¢ÙŠÙÙˆÙ†:</strong><br>
  Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© <strong>â¬†ï¸</strong> ÙÙŠ Ø³ÙØ§Ø±Ù‰<br>
  Ø«Ù… Ø§Ø®ØªØ± <strong>"Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"</strong>
  <div class="arrow-down"></div>
  <button onclick="document.getElementById(&#39;iosHint&#39;).style.display=&#39;none&#39;">Ø­Ø³Ù†Ø§Ù‹ âœ“</button>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â• HEADER â•â•â•â•â•â•â•â•â•â•â•â• -->
<header>
  <div class="hdr-brand">
    <div class="hdr-logo">ğŸŒ¾</div>
    <div class="hdr-title">
      <h1>Ø¹Ø²Ø¨ØªÙŠ</h1>
      <span>Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø²Ø±Ø¹Ø©</span>
    </div>
  </div>
  <div class="hdr-right">
    <button class="hdr-btn" id="btnRefresh" onclick="refreshData()" style="display: inline-block;">ğŸ”„ ØªØ­Ø¯ÙŠØ«</button>
    <button class="hdr-btn" id="btnAddHome" onclick="triggerInstall()">ğŸ“² Ø£Ø¶Ù Ù„Ù„Ø¬ÙˆØ§Ù„</button>
    <div class="glass-chip" id="headerDate">19 ÙØ¨Ø±Ø§ÙŠØ± 2026</div>
  </div>
</header>

<!-- â•â•â•â•â•â•â•â•â•â•â•â• DESKTOP NAV â•â•â•â•â•â•â•â•â•â•â•â• -->
<nav>
  <button class="active" onclick="showSection(&#39;dashboard&#39;)">ğŸ“Š Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
  <button onclick="showSection(&#39;livestock&#39;)" class="">ğŸ„ Ø§Ù„Ù…ÙˆØ§Ø´ÙŠ</button>
  <button onclick="showSection(&#39;poultry&#39;)" class="">ğŸ” Ø§Ù„Ø¯ÙˆØ§Ø¬Ù†</button>
  <button onclick="showSection(&#39;crops&#39;)" class="">ğŸŒ± Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„</button>
  <button onclick="showSection(&#39;income&#39;)" class="">ğŸ’° Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</button>
  <button onclick="showSection(&#39;expenses&#39;)">ğŸ“¤ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ</button>
  <button onclick="showSection(&#39;labor&#39;)" class="">ğŸ‘· Ø§Ù„Ø¹Ù…Ø§Ù„Ø©</button>
  <button onclick="showSection(&#39;reports&#39;)" class="">ğŸ“‹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</button>
</nav>

<!-- â•â•â•â•â•â•â•â•â•â•â•â• MOBILE BOTTOM NAV â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="mobileNav">
  <div class="m-nav-inner">
    <button class="m-nav-btn active" onclick="showSection(&#39;dashboard&#39;)" data-sec="dashboard">
      <span class="icon">ğŸ“Š</span><span class="label">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
    </button>
    <button class="m-nav-btn" onclick="showSection(&#39;livestock&#39;)" data-sec="livestock">
      <span class="icon">ğŸ„</span><span class="label">Ø§Ù„Ù…ÙˆØ§Ø´ÙŠ</span>
    </button>
    <button class="m-nav-btn" onclick="showSection(&#39;income&#39;)" data-sec="income">
      <span class="icon">ğŸ’°</span><span class="label">Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</span>
    </button>
    <button class="m-nav-btn" onclick="showSection(&#39;expenses&#39;)" data-sec="expenses">
      <span class="icon">ğŸ“¤</span><span class="label">Ù…ØµØ§Ø±ÙŠÙ</span>
    </button>
    <button class="m-nav-btn" id="moreBtn" onclick="toggleMore()">
      <span class="icon">â‹¯</span><span class="label">Ø§Ù„Ù…Ø²ÙŠØ¯</span>
    </button>
  </div>
</div>

<div id="moreOverlay" onclick="closeMore()"></div>
<div id="moreMenu">
  <button class="more-item" onclick="showSection(&#39;poultry&#39;);closeMore()">ğŸ” Ø§Ù„Ø¯ÙˆØ§Ø¬Ù†</button>
  <button class="more-item" onclick="showSection(&#39;crops&#39;);closeMore()">ğŸŒ± Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„</button>
  <button class="more-item" onclick="showSection(&#39;labor&#39;);closeMore()">ğŸ‘· Ø§Ù„Ø¹Ù…Ø§Ù„Ø©</button>
  <button class="more-item" onclick="showSection(&#39;reports&#39;);closeMore()">ğŸ“‹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</button>
</div>

<main>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     DASHBOARD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="dashboard" class="section active">

  <div class="page-hdr">
    <h2>ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… <span class="tag">Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©</span></h2>
    <button class="btn btn-ghost btn-sm" onclick="refreshData()">ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
  </div>

  <div class="kpi-grid">
    <div class="kpi kpi-green">
      <div class="kpi-icon">ğŸ’°</div>
      <div class="kpi-body">
        <div class="kpi-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</div>
        <div class="kpi-value" id="d-income">11,474</div>
        <div class="kpi-sub">Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ</div>
      </div>
    </div>
    <div class="kpi kpi-red">
      <div class="kpi-icon">ğŸ“¤</div>
      <div class="kpi-body">
        <div class="kpi-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ</div>
        <div class="kpi-value" id="d-expense">1,400</div>
        <div class="kpi-sub">Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ</div>
      </div>
    </div>
    <div class="kpi kpi-blue">
      <div class="kpi-icon">ğŸ“ˆ</div>
      <div class="kpi-body">
        <div class="kpi-label">ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­</div>
        <div class="kpi-value" id="d-profit">10,074</div>
        <div class="kpi-sub">Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ</div>
      </div>
    </div>
    <div class="kpi kpi-amber">
      <div class="kpi-icon">ğŸ„</div>
      <div class="kpi-body">
        <div class="kpi-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ÙˆØ§Ø´ÙŠ</div>
        <div class="kpi-value" id="d-livestock">0</div>
        <div class="kpi-sub">Ø±Ø£Ø³ Ù…ÙˆØ¬ÙˆØ¯Ø©</div>
      </div>
    </div>
    <div class="kpi kpi-purple">
      <div class="kpi-icon">ğŸ”</div>
      <div class="kpi-body">
        <div class="kpi-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯ÙˆØ§Ø¬Ù†</div>
        <div class="kpi-value" id="d-poultry">0</div>
        <div class="kpi-sub">Ø·ÙŠØ± Ù…ÙˆØ¬ÙˆØ¯</div>
      </div>
    </div>
  </div>

  <div class="two-col">
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title">
          <div class="panel-title-icon">ğŸ“Š</div>
          Ø¢Ø®Ø± Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
        </div>
      </div>
      <div class="tbl-wrap">
        <table>
          <thead><tr><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„Ù…Ø¨Ù„Øº</th><th>Ø§Ù„Ø¨ÙŠØ§Ù†</th></tr></thead>
          <tbody id="recentBody">
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¥ÙŠØ±Ø§Ø¯</span></td>
      <td class="td-amount-green">200 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¥ÙŠØ±Ø§Ø¯</span></td>
      <td class="td-amount-green">4,699 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¥ÙŠØ±Ø§Ø¯</span></td>
      <td class="td-amount-green">6,000 Ø¯.Ø¥</td>
      <td>ØºÙ†Ù… Ø­Ø±ÙŠ</td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¥ÙŠØ±Ø§Ø¯</span></td>
      <td class="td-amount-green">150 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¥ÙŠØ±Ø§Ø¯</span></td>
      <td class="td-amount-green">50 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¥ÙŠØ±Ø§Ø¯</span></td>
      <td class="td-amount-green">135 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¥ÙŠØ±Ø§Ø¯</span></td>
      <td class="td-amount-green">240 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-red">Ù…ØµØ±ÙˆÙ</span></td>
      <td class="td-amount-red">1,400 Ø¯.Ø¥</td>
      <td>Ø±Ø§ØªØ¨ Ø§Ù„Ø¹Ø§Ù…Ù„</td>
    </tr></tbody>
        </table>
      </div>
    </div>
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title">
          <div class="panel-title-icon">ğŸ“¦</div>
          Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
        </div>
      </div>
      <div id="inventorySummary" style="font-size:.93rem;line-height:2.2;"><p style="color:var(--light);font-weight:600;padding:12px 0;">Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø±Ø¯ Ø¨Ø¹Ø¯</p></div>
    </div>
  </div>

</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     LIVESTOCK
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="livestock" class="section">

  <div class="page-hdr">
    <h2>ğŸ„ Ø§Ù„Ù…ÙˆØ§Ø´ÙŠ <span class="tag">Ø¥Ø¯Ø§Ø±Ø©</span></h2>
  </div>

  <div class="sub-tabs">
    <button class="sub-tab active" onclick="showSubTab(&#39;ls&#39;,&#39;ls-add&#39;)">â• Ø¥Ø¶Ø§ÙØ©</button>
    <button class="sub-tab" onclick="showSubTab(&#39;ls&#39;,&#39;ls-list&#39;)">ğŸ“‹ Ø§Ù„Ø³Ø¬Ù„</button>
    <button class="sub-tab" onclick="showSubTab(&#39;ls&#39;,&#39;ls-sale&#39;)">ğŸ’¸ Ø¨ÙŠØ¹ / Ø°Ø¨Ø­</button>
  </div>

  <div id="ls-add" class="sub-panel active">
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title"><div class="panel-title-icon">ğŸ„</div> Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ§Ø´ÙŠ Ø¬Ø¯ÙŠØ¯Ø©</div>
      </div>
      <div class="form-grid">
        <div class="form-group">
          <label>Ø§Ù„Ù†ÙˆØ¹</label>
          <select id="ls-type">
            <option>Ø¨Ù‚Ø±Ø©</option><option>Ø¹Ø¬Ù„</option><option>Ø®Ø±ÙˆÙ</option>
            <option>Ù†Ø¹Ø¬Ø©</option><option>Ù…Ø§Ø¹Ø²</option><option>Ù†Ø§Ù‚Ø©</option><option>Ø¨Ø¹ÙŠØ±</option>
          </select>
        </div>
        <div class="form-group">
          <label>Ø±Ù‚Ù… Ø§Ù„ØªØ¹Ø±ÙŠÙ / Ø§Ù„Ø§Ø³Ù…</label>
          <input type="text" id="ls-id" placeholder="Ù…Ø«Ø§Ù„: Ø¨-001">
        </div>
        <div class="form-group">
          <label>Ø§Ù„Ø¹Ø¯Ø¯</label>
          <input type="number" id="ls-count" min="1" value="1">
        </div>
        <div class="form-group">
          <label>Ø§Ù„Ø¬Ù†Ø³</label>
          <select id="ls-gender"><option>Ø°ÙƒØ±</option><option>Ø£Ù†Ø«Ù‰</option></select>
        </div>
        <div class="form-group">
          <label>Ø§Ù„Ø¹Ù…Ø± (Ø£Ø´Ù‡Ø±)</label>
          <input type="number" id="ls-age" min="0" placeholder="0">
        </div>
        <div class="form-group">
          <label>ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ø±Ø§Ø¡ (Ø¯.Ø¥)</label>
          <input type="number" id="ls-cost" min="0" placeholder="0">
        </div>
        <div class="form-group">
          <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ø¶Ø§ÙØ©</label>
          <input type="date" id="ls-date">
        </div>
        <div class="form-group">
          <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
          <input type="text" id="ls-notes" placeholder="Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª...">
        </div>
      </div>
      <button class="btn btn-green" onclick="addLivestock()">âœ… Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ø¬Ù„</button>
    </div>
  </div>

  <div id="ls-list" class="sub-panel">
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title"><div class="panel-title-icon">ğŸ“‹</div> Ø³Ø¬Ù„ Ø§Ù„Ù…ÙˆØ§Ø´ÙŠ</div>
      </div>
      <div class="filter-bar">
        <select id="ls-filter-type" onchange="renderLivestock()">
          <option value="">ÙƒÙ„ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹</option>
          <option>Ø¨Ù‚Ø±Ø©</option><option>Ø®Ø±ÙˆÙ</option><option>Ù†Ø§Ù‚Ø©</option><option>Ù…Ø§Ø¹Ø²</option>
        </select>
        <select id="ls-filter-status" onchange="renderLivestock()">
          <option value="">ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>
          <option>Ù…ÙˆØ¬ÙˆØ¯</option><option>Ù…Ø¨Ø§Ø¹</option><option>Ù…Ø°Ø¨ÙˆØ­</option>
        </select>
      </div>
      <div class="tbl-wrap">
        <table>
          <thead>
            <tr>
              <th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„Ù…Ø¹Ø±Ù</th><th>Ø§Ù„Ø¹Ø¯Ø¯</th><th>Ø§Ù„Ø¬Ù†Ø³</th>
              <th>Ø§Ù„Ø¹Ù…Ø±</th><th>Ø§Ù„ØªÙƒÙ„ÙØ©</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th><th>Ø¥Ø¬Ø±Ø§Ø¡</th>
            </tr>
          </thead>
          <tbody id="livestockBody"><tr><td colspan="9" class="empty-state">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr></tbody>
        </table>
      </div>
    </div>
  </div>

  <div id="ls-sale" class="sub-panel">
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title"><div class="panel-title-icon">ğŸ’¸</div> ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ¹ Ø£Ùˆ Ø°Ø¨Ø­</div>
      </div>
      <div class="form-grid">
        <div class="form-group">
          <label>Ø§Ø®ØªØ± Ø§Ù„Ø­ÙŠÙˆØ§Ù† (Ø§Ù„Ù…Ø¹Ø±Ù)</label>
          <select id="ls-sale-id"><option value="">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙˆØ§Ø´ÙŠ Ù…ØªØ§Ø­Ø©</option></select>
        </div>
        <div class="form-group">
          <label>Ø§Ù„Ù†ÙˆØ¹</label>
          <select id="ls-sale-action"><option value="Ù…Ø¨Ø§Ø¹">Ø¨ÙŠØ¹</option><option value="Ù…Ø°Ø¨ÙˆØ­">Ø°Ø¨Ø­ Ù„Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ</option></select>
        </div>
        <div class="form-group">
          <label>Ø§Ù„Ø³Ø¹Ø± / Ø§Ù„Ù‚ÙŠÙ…Ø© (Ø¯.Ø¥)</label>
          <input type="number" id="ls-sale-price" min="0" placeholder="0">
        </div>
        <div class="form-group">
          <label>Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
          <input type="date" id="ls-sale-date">
        </div>
        <div class="form-group">
          <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
          <input type="text" id="ls-sale-notes" placeholder="">
        </div>
      </div>
      <button class="btn btn-amber" onclick="sellLivestock()">âœ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</button>
    </div>
  </div>

</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     POULTRY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="poultry" class="section">

  <div class="page-hdr">
    <h2>ğŸ” Ø§Ù„Ø¯ÙˆØ§Ø¬Ù† <span class="tag">Ø¥Ø¯Ø§Ø±Ø©</span></h2>
  </div>

  <div class="sub-tabs">
    <button class="sub-tab active" onclick="showSubTab(&#39;pt&#39;,&#39;pt-add&#39;)">â• Ø¥Ø¶Ø§ÙØ©</button>
    <button class="sub-tab" onclick="showSubTab(&#39;pt&#39;,&#39;pt-list&#39;)">ğŸ“‹ Ø§Ù„Ø³Ø¬Ù„</button>
    <button class="sub-tab" onclick="showSubTab(&#39;pt&#39;,&#39;pt-production&#39;)">ğŸ¥š Ø§Ù„Ø¥Ù†ØªØ§Ø¬</button>
  </div>

  <div id="pt-add" class="sub-panel active">
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title"><div class="panel-title-icon">ğŸ”</div> Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ§Ø¬Ù† Ø¬Ø¯ÙŠØ¯Ø©</div>
      </div>
      <div class="form-grid">
        <div class="form-group">
          <label>Ø§Ù„Ù†ÙˆØ¹</label>
          <select id="pt-type">
            <option>Ø¯Ø¬Ø§Ø¬</option><option>Ø¨Ø·</option><option>Ø­Ù…Ø§Ù…</option>
            <option>Ø¯ÙŠÙˆÙƒ Ø±ÙˆÙ…ÙŠ</option><option>Ø£ÙˆØ²</option>
          </select>
        </div>
        <div class="form-group">
          <label>Ø§Ù„Ø¹Ø¯Ø¯</label>
          <input type="number" id="pt-count" min="1" value="1">
        </div>
        <div class="form-group">
          <label>Ø§Ù„ØºØ±Ø¶</label>
          <select id="pt-purpose">
            <option>Ù„Ø­Ù…</option><option>Ø¨ÙŠØ¶</option><option>Ù„Ø­Ù… ÙˆØ¨ÙŠØ¶</option>
          </select>
        </div>
        <div class="form-group">
          <label>ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ø±Ø§Ø¡ (Ø¯.Ø¥)</label>
          <input type="number" id="pt-cost" min="0" placeholder="0">
        </div>
        <div class="form-group">
          <label>Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
          <input type="date" id="pt-date">
        </div>
        <div class="form-group">
          <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
          <input type="text" id="pt-notes" placeholder="">
        </div>
      </div>
      <button class="btn btn-green" onclick="addPoultry()">âœ… Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ø¬Ù„</button>
    </div>
  </div>

  <div id="pt-list" class="sub-panel">
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title"><div class="panel-title-icon">ğŸ“‹</div> Ø³Ø¬Ù„ Ø§Ù„Ø¯ÙˆØ§Ø¬Ù†</div>
      </div>
      <div class="tbl-wrap">
        <table>
          <thead>
            <tr><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„Ø¹Ø¯Ø¯</th><th>Ø§Ù„ØºØ±Ø¶</th><th>Ø§Ù„ØªÙƒÙ„ÙØ©</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th><th>Ø¥Ø¬Ø±Ø§Ø¡</th></tr>
          </thead>
          <tbody id="poultryBody"><tr><td colspan="7" class="empty-state">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr></tbody>
        </table>
      </div>
    </div>
  </div>

  <div id="pt-production" class="sub-panel">
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title"><div class="panel-title-icon">ğŸ¥š</div> ØªØ³Ø¬ÙŠÙ„ Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø¨ÙŠØ¶ / Ø§Ù„Ù„Ø­Ù…</div>
      </div>
      <div class="form-grid">
        <div class="form-group">
          <label>Ù†ÙˆØ¹ Ø§Ù„Ø¥Ù†ØªØ§Ø¬</label>
          <select id="pt-prod-type">
            <option value="Ø¨ÙŠØ¶">Ø¨ÙŠØ¶ (Ø¨Ø§Ù„Ø­Ø¨Ø©)</option>
            <option value="Ù„Ø­Ù…">Ù„Ø­Ù… (ÙƒØ¬Ù…)</option>
          </select>
        </div>
        <div class="form-group">
          <label>Ø§Ù„ÙƒÙ…ÙŠØ©</label>
          <input type="number" id="pt-prod-qty" min="0" placeholder="0">
        </div>
        <div class="form-group">
          <label>Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹ (Ø¯.Ø¥ Ù„Ù„ÙˆØ­Ø¯Ø©)</label>
          <input type="number" id="pt-prod-price" min="0" placeholder="0">
        </div>
        <div class="form-group">
          <label>Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
          <input type="date" id="pt-prod-date">
        </div>
      </div>
      <button class="btn btn-green" onclick="addProduction()">âœ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¥Ù†ØªØ§Ø¬</button>
      <div style="margin-top:24px;">
        <div class="panel-hdr" style="margin-bottom:14px;">
          <div class="panel-title"><div class="panel-title-icon">ğŸ“‹</div> Ø³Ø¬Ù„ Ø§Ù„Ø¥Ù†ØªØ§Ø¬</div>
        </div>
        <div class="tbl-wrap">
          <table>
            <thead><tr><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„Ø³Ø¹Ø±</th><th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø­Ø°Ù</th></tr></thead>
            <tbody id="productionBody"><tr><td colspan="6" class="empty-state">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CROPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="crops" class="section">

  <div class="page-hdr">
    <h2>ğŸŒ± Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„ <span class="tag">Ø¥Ø¯Ø§Ø±Ø©</span></h2>
  </div>

  <div class="sub-tabs">
    <button class="sub-tab active" onclick="showSubTab(&#39;cr&#39;,&#39;cr-add&#39;)">â• Ø¥Ø¶Ø§ÙØ©</button>
    <button class="sub-tab" onclick="showSubTab(&#39;cr&#39;,&#39;cr-list&#39;)">ğŸ“‹ Ø§Ù„Ø³Ø¬Ù„</button>
    <button class="sub-tab" onclick="showSubTab(&#39;cr&#39;,&#39;cr-harvest&#39;)">ğŸŒ¾ Ø§Ù„Ø­ØµØ§Ø¯</button>
  </div>

  <div id="cr-add" class="sub-panel active">
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title"><div class="panel-title-icon">ğŸŒ±</div> Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÙŠØ¯</div>
      </div>
      <div class="form-grid">
        <div class="form-group">
          <label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØµÙˆÙ„</label>
          <input type="text" id="cr-type" placeholder="Ù‚Ù…Ø­ØŒ Ø°Ø±Ø©ØŒ Ø¨Ø±Ø³ÙŠÙ…...">
        </div>
        <div class="form-group">
          <label>Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø²Ø±ÙˆØ¹Ø© (ÙØ¯Ø§Ù†)</label>
          <input type="number" id="cr-area" min="0" step="0.1" placeholder="0">
        </div>
        <div class="form-group">
          <label>ØªÙƒÙ„ÙØ© Ø§Ù„Ø²Ø±Ø§Ø¹Ø© (Ø¯.Ø¥)</label>
          <input type="number" id="cr-cost" min="0" placeholder="0">
        </div>
        <div class="form-group">
          <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø²Ø±Ø§Ø¹Ø©</label>
          <input type="date" id="cr-plant-date">
        </div>
        <div class="form-group">
          <label>Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù„Ù„Ø­ØµØ§Ø¯</label>
          <input type="date" id="cr-harvest-date">
        </div>
        <div class="form-group">
          <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
          <input type="text" id="cr-notes" placeholder="">
        </div>
      </div>
      <button class="btn btn-green" onclick="addCrop()">âœ… Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ø¬Ù„</button>
    </div>
  </div>

  <div id="cr-list" class="sub-panel">
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title"><div class="panel-title-icon">ğŸ“‹</div> Ø³Ø¬Ù„ Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„</div>
      </div>
      <div class="tbl-wrap">
        <table>
          <thead>
            <tr><th>Ø§Ù„Ù…Ø­ØµÙˆÙ„</th><th>Ø§Ù„Ù…Ø³Ø§Ø­Ø©</th><th>Ø§Ù„ØªÙƒÙ„ÙØ©</th><th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø²Ø±Ø§Ø¹Ø©</th><th>Ø§Ù„Ø­ØµØ§Ø¯ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th><th>Ø¥Ø¬Ø±Ø§Ø¡</th></tr>
          </thead>
          <tbody id="cropsBody"><tr><td colspan="7" class="empty-state">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr></tbody>
        </table>
      </div>
    </div>
  </div>

  <div id="cr-harvest" class="sub-panel">
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title"><div class="panel-title-icon">ğŸŒ¾</div> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­ØµØ§Ø¯</div>
      </div>
      <div class="form-grid">
        <div class="form-group">
          <label>Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­ØµÙˆÙ„</label>
          <select id="cr-harvest-id"><option value="">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ø§ØµÙŠÙ„ Ù†Ø§Ù…ÙŠØ©</option></select>
        </div>
        <div class="form-group">
          <label>Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø­ØµÙˆØ¯Ø©</label>
          <input type="number" id="cr-harvest-qty" min="0" placeholder="0">
        </div>
        <div class="form-group">
          <label>ÙˆØ­Ø¯Ø© Ø§Ù„Ù‚ÙŠØ§Ø³</label>
          <select id="cr-harvest-unit">
            <option>ÙƒØ¬Ù…</option><option>Ø·Ù†</option><option>Ø¬Ø±Ø§Ø¨</option>
          </select>
        </div>
        <div class="form-group">
          <label>Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹ (Ø¯.Ø¥ Ù„Ù„ÙˆØ­Ø¯Ø©)</label>
          <input type="number" id="cr-harvest-price" min="0" placeholder="0">
        </div>
        <div class="form-group">
          <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­ØµØ§Ø¯</label>
          <input type="date" id="cr-harvest-date2">
        </div>
      </div>
      <button class="btn btn-amber" onclick="recordHarvest()">âœ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­ØµØ§Ø¯</button>
      <div style="margin-top:24px;">
        <div class="panel-hdr" style="margin-bottom:14px;">
          <div class="panel-title"><div class="panel-title-icon">ğŸ“‹</div> Ø³Ø¬Ù„ Ø§Ù„Ø­ØµØ§Ø¯</div>
        </div>
        <div class="tbl-wrap">
          <table>
            <thead><tr><th>Ø§Ù„Ù…Ø­ØµÙˆÙ„</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„ÙˆØ­Ø¯Ø©</th><th>Ø§Ù„Ø³Ø¹Ø±</th><th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø­Ø°Ù</th></tr></thead>
            <tbody id="harvestBody"></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     INCOME
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="income" class="section">

  <div class="page-hdr">
    <h2>ğŸ’° Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª <span class="tag">Ø³Ø¬Ù‘Ù„ Ø¯Ø®Ù„Ùƒ</span></h2>
  </div>

  <div class="panel">
    <div class="panel-hdr">
      <div class="panel-title"><div class="panel-title-icon">â•</div> Ø¥Ø¶Ø§ÙØ© Ø¥ÙŠØ±Ø§Ø¯ Ø¬Ø¯ÙŠØ¯</div>
    </div>
    <div class="form-grid">
      <div class="form-group">
        <label>Ø§Ù„Ù…ØµØ¯Ø±</label>
        <select id="inc-source">
          <option>Ø¨ÙŠØ¹ Ù…ÙˆØ§Ø´ÙŠ</option><option>Ø¨ÙŠØ¹ Ø¯ÙˆØ§Ø¬Ù†</option><option>Ø¨ÙŠØ¹ Ù…Ø­Ø§ØµÙŠÙ„</option>
          <option>Ø¨ÙŠØ¹ Ø¨ÙŠØ¶</option><option>Ø¨ÙŠØ¹ Ù„Ø¨Ù†</option><option>Ø¥ÙŠØ±Ø§Ø¯ Ø¢Ø®Ø±</option>
        </select>
      </div>
      <div class="form-group">
        <label>Ø§Ù„Ù…Ø¨Ù„Øº (Ø¯.Ø¥)</label>
        <input type="number" id="inc-amount" min="0" placeholder="0">
      </div>
      <div class="form-group">
        <label>Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
        <input type="date" id="inc-date">
      </div>
      <div class="form-group">
        <label>Ø§Ù„Ø¨ÙŠØ§Ù†</label>
        <input type="text" id="inc-desc" placeholder="ÙˆØµÙ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯...">
      </div>
    </div>
    <button class="btn btn-green" onclick="addIncome()">âœ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯</button>
  </div>

  <div class="panel">
    <div class="panel-hdr">
      <div class="panel-title"><div class="panel-title-icon">ğŸ“‹</div> Ø³Ø¬Ù„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</div>
    </div>
    <div class="filter-bar">
      <input type="month" id="inc-filter-month" onchange="renderIncome()">
      <select id="inc-filter-source" onchange="renderIncome()">
        <option value="">ÙƒÙ„ Ø§Ù„Ù…ØµØ§Ø¯Ø±</option>
        <option>Ø¨ÙŠØ¹ Ù…ÙˆØ§Ø´ÙŠ</option><option>Ø¨ÙŠØ¹ Ø¯ÙˆØ§Ø¬Ù†</option><option>Ø¨ÙŠØ¹ Ù…Ø­Ø§ØµÙŠÙ„</option>
        <option>Ø¨ÙŠØ¹ Ø¨ÙŠØ¶</option><option>Ø¨ÙŠØ¹ Ù„Ø¨Ù†</option><option>Ø¥ÙŠØ±Ø§Ø¯ Ø¢Ø®Ø±</option>
      </select>
    </div>
    <div class="tbl-wrap">
      <table>
        <thead><tr><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø§Ù„Ù…ØµØ¯Ø±</th><th>Ø§Ù„Ù…Ø¨Ù„Øº</th><th>Ø§Ù„Ø¨ÙŠØ§Ù†</th><th>Ø­Ø°Ù</th></tr></thead>
        <tbody id="incomeBody">
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¨ÙŠØ¶</span></td>
      <td class="td-amount-green">200 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
      <td><button class="btn btn-red btn-sm" onclick="deleteIncome(&#39;mlt6cmyim38c&#39;)">Ø­Ø°Ù</button></td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¨ÙŠØ¶</span></td>
      <td class="td-amount-green">4,699 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
      <td><button class="btn btn-red btn-sm" onclick="deleteIncome(&#39;mlt6cmyi2ie9&#39;)">Ø­Ø°Ù</button></td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">ØºÙ†Ù… Ø­Ø±ÙŠ</span></td>
      <td class="td-amount-green">6,000 Ø¯.Ø¥</td>
      <td>ØºÙ†Ù… Ø­Ø±ÙŠ</td>
      <td><button class="btn btn-red btn-sm" onclick="deleteIncome(&#39;mlt6cmyizccn&#39;)">Ø­Ø°Ù</button></td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¨ÙŠØ¶</span></td>
      <td class="td-amount-green">150 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
      <td><button class="btn btn-red btn-sm" onclick="deleteIncome(&#39;mlt6cmyi78ot&#39;)">Ø­Ø°Ù</button></td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¨ÙŠØ¶</span></td>
      <td class="td-amount-green">50 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
      <td><button class="btn btn-red btn-sm" onclick="deleteIncome(&#39;mlt6cmyi3txa&#39;)">Ø­Ø°Ù</button></td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¨ÙŠØ¶</span></td>
      <td class="td-amount-green">135 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
      <td><button class="btn btn-red btn-sm" onclick="deleteIncome(&#39;mlt6cmyipi6g&#39;)">Ø­Ø°Ù</button></td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¨ÙŠØ¶</span></td>
      <td class="td-amount-green">240 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
      <td><button class="btn btn-red btn-sm" onclick="deleteIncome(&#39;mlt6cmyilmvn&#39;)">Ø­Ø°Ù</button></td>
    </tr></tbody>
      </table>
    </div>
    <div class="totals-row" id="incomeTotal" style="display: flex;">ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 11,474 Ø¯.Ø¥</div>
  </div>

</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     EXPENSES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="expenses" class="section">

  <div class="page-hdr">
    <h2>ğŸ“¤ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ <span class="tag">Ø³Ø¬Ù‘Ù„ Ù…ØµØ±ÙˆÙÙƒ</span></h2>
  </div>

  <div class="panel">
    <div class="panel-hdr">
      <div class="panel-title"><div class="panel-title-icon">â•</div> Ø¥Ø¶Ø§ÙØ© Ù…ØµØ±ÙˆÙ Ø¬Ø¯ÙŠØ¯</div>
    </div>
    <div class="form-grid">
      <div class="form-group">
        <label>Ø§Ù„ÙØ¦Ø©</label>
        <select id="exp-cat">
          <option>Ø£Ø¹Ù„Ø§Ù</option><option>Ø£Ø¯ÙˆÙŠØ© ÙˆØ¨ÙŠØ·Ø±ÙŠ</option><option>Ø±ÙˆØ§ØªØ¨</option>
          <option>ÙˆÙ‚ÙˆØ¯</option><option>ØµÙŠØ§Ù†Ø© ÙˆØ¢Ù„Ø§Øª</option><option>Ø¨Ø°ÙˆØ± ÙˆØ£Ø³Ù…Ø¯Ø©</option>
          <option>Ù…ÙŠØ§Ù‡ ÙˆÙƒÙ‡Ø±Ø¨Ø§Ø¡</option><option>Ù…ØµØ±ÙˆÙ Ø¢Ø®Ø±</option>
        </select>
      </div>
      <div class="form-group">
        <label>Ø§Ù„Ù…Ø¨Ù„Øº (Ø¯.Ø¥)</label>
        <input type="number" id="exp-amount" min="0" placeholder="0">
      </div>
      <div class="form-group">
        <label>Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
        <input type="date" id="exp-date">
      </div>
      <div class="form-group">
        <label>Ø§Ù„Ù…ÙˆØ±Ø¯ / Ø§Ù„Ø¬Ù‡Ø©</label>
        <input type="text" id="exp-vendor" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ±Ø¯ Ø£Ùˆ Ø§Ù„Ø¬Ù‡Ø©">
      </div>
      <div class="form-group">
        <label>Ø§Ù„Ø¨ÙŠØ§Ù†</label>
        <input type="text" id="exp-desc" placeholder="ÙˆØµÙ Ø§Ù„Ù…ØµØ±ÙˆÙ...">
      </div>
    </div>
    <button class="btn btn-red" onclick="addExpense()">âœ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ØµØ±ÙˆÙ</button>
  </div>

  <div class="panel">
    <div class="panel-hdr">
      <div class="panel-title"><div class="panel-title-icon">ğŸ“‹</div> Ø³Ø¬Ù„ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ</div>
    </div>
    <div class="filter-bar">
      <input type="month" id="exp-filter-month" onchange="renderExpenses()">
      <select id="exp-filter-cat" onchange="renderExpenses()">
        <option value="">ÙƒÙ„ Ø§Ù„ÙØ¦Ø§Øª</option>
        <option>Ø£Ø¹Ù„Ø§Ù</option><option>Ø£Ø¯ÙˆÙŠØ© ÙˆØ¨ÙŠØ·Ø±ÙŠ</option><option>Ø±ÙˆØ§ØªØ¨</option>
        <option>ÙˆÙ‚ÙˆØ¯</option><option>ØµÙŠØ§Ù†Ø© ÙˆØ¢Ù„Ø§Øª</option><option>Ø¨Ø°ÙˆØ± ÙˆØ£Ø³Ù…Ø¯Ø©</option>
        <option>Ù…ÙŠØ§Ù‡ ÙˆÙƒÙ‡Ø±Ø¨Ø§Ø¡</option><option>Ù…ØµØ±ÙˆÙ Ø¢Ø®Ø±</option>
      </select>
    </div>
    <div class="tbl-wrap">
      <table>
        <thead><tr><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø§Ù„ÙØ¦Ø©</th><th>Ø§Ù„Ù…Ø¨Ù„Øº</th><th>Ø§Ù„Ù…ÙˆØ±Ø¯</th><th>Ø§Ù„Ø¨ÙŠØ§Ù†</th><th>Ø­Ø°Ù</th></tr></thead>
        <tbody id="expenseBody"></tbody>
      </table>
    </div>
    <div class="totals-row" id="expenseTotal" style="display:none;"></div>
  </div>

</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     LABOR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="labor" class="section">

  <div class="page-hdr">
    <h2>ğŸ‘· Ø§Ù„Ø¹Ù…Ø§Ù„Ø© <span class="tag">Ø¥Ø¯Ø§Ø±Ø©</span></h2>
  </div>

  <div class="sub-tabs">
    <button class="sub-tab active" onclick="showSubTab(&#39;lb&#39;,&#39;lb-add&#39;)">â• Ø¥Ø¶Ø§ÙØ© Ø¹Ø§Ù…Ù„</button>
    <button class="sub-tab" onclick="showSubTab(&#39;lb&#39;,&#39;lb-list&#39;)">ğŸ‘· Ø§Ù„Ø¹Ù…Ø§Ù„</button>
    <button class="sub-tab" onclick="showSubTab(&#39;lb&#39;,&#39;lb-salary&#39;)">ğŸ’µ Ø§Ù„Ø±ÙˆØ§ØªØ¨</button>
  </div>

  <div id="lb-add" class="sub-panel active">
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title"><div class="panel-title-icon">ğŸ‘·</div> ØªØ³Ø¬ÙŠÙ„ Ø¹Ø§Ù…Ù„ Ø¬Ø¯ÙŠØ¯</div>
      </div>
      <div class="form-grid">
        <div class="form-group">
          <label>Ø§Ù„Ø§Ø³Ù…</label>
          <input type="text" id="lb-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ù…Ù„">
        </div>
        <div class="form-group">
          <label>Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</label>
          <input type="text" id="lb-nationality" placeholder="Ø§Ù„Ø¬Ù†Ø³ÙŠØ©">
        </div>
        <div class="form-group">
          <label>Ø§Ù„ÙˆØ¸ÙŠÙØ©</label>
          <input type="text" id="lb-role" placeholder="Ø±Ø§Ø¹ÙŠØŒ Ø³Ø§Ø¦Ù‚ØŒ ÙÙ„Ø§Ø­...">
        </div>
        <div class="form-group">
          <label>Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø´Ù‡Ø±ÙŠ (Ø¯.Ø¥)</label>
          <input type="number" id="lb-salary" min="0" placeholder="0">
        </div>
        <div class="form-group">
          <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
          <input type="text" id="lb-phone" placeholder="05xxxxxxxx">
        </div>
        <div class="form-group">
          <label>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ†</label>
          <input type="date" id="lb-hire-date">
        </div>
      </div>
      <button class="btn btn-green" onclick="addWorker()">âœ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø§Ù…Ù„</button>
    </div>
  </div>

  <div id="lb-list" class="sub-panel">
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title"><div class="panel-title-icon">ğŸ‘·</div> Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ø§Ù„</div>
      </div>
      <div class="tbl-wrap">
        <table>
          <thead><tr><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</th><th>Ø§Ù„ÙˆØ¸ÙŠÙØ©</th><th>Ø§Ù„Ø±Ø§ØªØ¨</th><th>Ø§Ù„Ù‡Ø§ØªÙ</th><th>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ†</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th><th>Ø¥Ø¬Ø±Ø§Ø¡</th></tr></thead>
          <tbody id="laborBody"><tr><td colspan="8" class="empty-state">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr></tbody>
        </table>
      </div>
    </div>
  </div>

  <div id="lb-salary" class="sub-panel">
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title"><div class="panel-title-icon">ğŸ’µ</div> ØµØ±Ù Ø§Ù„Ø±ÙˆØ§ØªØ¨</div>
      </div>
      <div class="form-grid">
        <div class="form-group">
          <label>Ø§Ù„Ø¹Ø§Ù…Ù„</label>
          <select id="lb-pay-id"><option value="">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù…Ø§Ù„ Ù†Ø´Ø·ÙˆÙ†</option></select>
        </div>
        <div class="form-group">
          <label>Ø§Ù„Ø´Ù‡Ø±</label>
          <input type="month" id="lb-pay-month">
        </div>
        <div class="form-group">
          <label>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹ (Ø¯.Ø¥)</label>
          <input type="number" id="lb-pay-amount" min="0" placeholder="0">
        </div>
        <div class="form-group">
          <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
          <input type="text" id="lb-pay-notes" placeholder="Ù…ÙƒØ§ÙØ£Ø©ØŒ Ø®ØµÙ…...">
        </div>
      </div>
      <button class="btn btn-blue" onclick="paySalary()">âœ… ØµØ±Ù Ø§Ù„Ø±Ø§ØªØ¨</button>
      <div style="margin-top:24px;">
        <div class="panel-hdr" style="margin-bottom:14px;">
          <div class="panel-title"><div class="panel-title-icon">ğŸ“‹</div> Ø³Ø¬Ù„ Ø§Ù„Ø±ÙˆØ§ØªØ¨</div>
        </div>
        <div class="tbl-wrap">
          <table>
            <thead><tr><th>Ø§Ù„Ø¹Ø§Ù…Ù„</th><th>Ø§Ù„Ø´Ù‡Ø±</th><th>Ø§Ù„Ù…Ø¨Ù„Øº</th><th>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</th><th>Ø­Ø°Ù</th></tr></thead>
            <tbody id="salaryBody"><tr><td colspan="5" class="empty-state">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     REPORTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="reports" class="section">

  <div class="page-hdr">
    <h2>ğŸ“‹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± <span class="tag">Ù…Ù„Ø®ØµØ§Øª</span></h2>
    <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;">
      <input type="month" id="rep-from" style="border:2px solid var(--border);border-radius:var(--r-sm);padding:8px 14px;font-family:inherit;font-size:.84rem;outline:none;background:var(--bg);">
      <span style="font-weight:700;color:var(--muted);">â€”</span>
      <input type="month" id="rep-to" style="border:2px solid var(--border);border-radius:var(--r-sm);padding:8px 14px;font-family:inherit;font-size:.84rem;outline:none;background:var(--bg);">
      <button class="btn btn-green btn-sm" onclick="generateReport()">ğŸ” Ø¹Ø±Ø¶</button>
      <button class="btn btn-ghost btn-sm" onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</button>
    </div>
  </div>

  <div class="kpi-grid" id="repCards">
    <div class="kpi kpi-green">
      <div class="kpi-icon">ğŸ’°</div>
      <div class="kpi-body"><div class="kpi-label">Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</div><div class="kpi-value" id="rep-inc">11,474</div><div class="kpi-sub">Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ</div></div>
    </div>
    <div class="kpi kpi-red">
      <div class="kpi-icon">ğŸ“¤</div>
      <div class="kpi-body"><div class="kpi-label">Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ</div><div class="kpi-value" id="rep-exp">1,400</div><div class="kpi-sub">Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ</div></div>
    </div>
    <div class="kpi kpi-blue">
      <div class="kpi-icon">ğŸ“ˆ</div>
      <div class="kpi-body"><div class="kpi-label">ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­</div><div class="kpi-value" id="rep-prof">10,074</div><div class="kpi-sub">Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ</div></div>
    </div>
    <div class="kpi kpi-purple">
      <div class="kpi-icon">ğŸ’µ</div>
      <div class="kpi-body"><div class="kpi-label">Ø§Ù„Ø±ÙˆØ§ØªØ¨</div><div class="kpi-value" id="rep-sal">0</div><div class="kpi-sub">Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ</div></div>
    </div>
  </div>

  <div class="two-col">
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title"><div class="panel-title-icon">ğŸ“Š</div> Ù…ØµØ§Ø±ÙŠÙ Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©</div>
      </div>
      <div id="expByCategory" style="font-size:.91rem;">
      <div style="display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1.5px solid var(--border);">
        <span style="font-weight:700;">Ø±Ø§ØªØ¨ Ø§Ù„Ø¹Ø§Ù…Ù„</span>
        <span>
          <strong class="td-amount-red">1,400 Ø¯.Ø¥</strong>
          <span style="color:var(--light);font-size:.78rem;margin-right:6px;">100%</span>
        </span>
      </div></div>
    </div>
    <div class="panel">
      <div class="panel-hdr">
        <div class="panel-title"><div class="panel-title-icon">ğŸ’°</div> Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù…ØµØ¯Ø±</div>
      </div>
      <div id="incBySource" style="font-size:.91rem;">
      <div style="display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1.5px solid var(--border);">
        <span style="font-weight:700;">ØºÙ†Ù… Ø­Ø±ÙŠ</span>
        <span>
          <strong class="td-amount-green">6,000 Ø¯.Ø¥</strong>
          <span style="color:var(--light);font-size:.78rem;margin-right:6px;">52%</span>
        </span>
      </div>
      <div style="display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1.5px solid var(--border);">
        <span style="font-weight:700;">Ø¨ÙŠØ¶</span>
        <span>
          <strong class="td-amount-green">5,474 Ø¯.Ø¥</strong>
          <span style="color:var(--light);font-size:.78rem;margin-right:6px;">48%</span>
        </span>
      </div></div>
    </div>
  </div>

  <div class="panel">
    <div class="panel-hdr">
      <div class="panel-title"><div class="panel-title-icon">ğŸ“‹</div> ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</div>
    </div>
    <div class="tbl-wrap">
      <table>
        <thead><tr><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„ÙØ¦Ø© / Ø§Ù„Ù…ØµØ¯Ø±</th><th>Ø§Ù„Ù…Ø¨Ù„Øº</th><th>Ø§Ù„Ø¨ÙŠØ§Ù†</th></tr></thead>
        <tbody id="repTransBody">
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¥ÙŠØ±Ø§Ø¯</span></td>
      <td>Ø¨ÙŠØ¶</td>
      <td class="td-amount-green">200 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¥ÙŠØ±Ø§Ø¯</span></td>
      <td>Ø¨ÙŠØ¶</td>
      <td class="td-amount-green">4,699 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¥ÙŠØ±Ø§Ø¯</span></td>
      <td>ØºÙ†Ù… Ø­Ø±ÙŠ</td>
      <td class="td-amount-green">6,000 Ø¯.Ø¥</td>
      <td>ØºÙ†Ù… Ø­Ø±ÙŠ</td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¥ÙŠØ±Ø§Ø¯</span></td>
      <td>Ø¨ÙŠØ¶</td>
      <td class="td-amount-green">150 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¥ÙŠØ±Ø§Ø¯</span></td>
      <td>Ø¨ÙŠØ¶</td>
      <td class="td-amount-green">50 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¥ÙŠØ±Ø§Ø¯</span></td>
      <td>Ø¨ÙŠØ¶</td>
      <td class="td-amount-green">135 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-green">Ø¥ÙŠØ±Ø§Ø¯</span></td>
      <td>Ø¨ÙŠØ¶</td>
      <td class="td-amount-green">240 Ø¯.Ø¥</td>
      <td>Ø¨ÙŠØ¶</td>
    </tr>
    <tr>
      <td>2026-02-18</td>
      <td><span class="badge badge-red">Ù…ØµØ±ÙˆÙ</span></td>
      <td>Ø±Ø§ØªØ¨ Ø§Ù„Ø¹Ø§Ù…Ù„</td>
      <td class="td-amount-red">1,400 Ø¯.Ø¥</td>
      <td>Ø±Ø§ØªØ¨ Ø§Ù„Ø¹Ø§Ù…Ù„</td>
    </tr></tbody>
      </table>
    </div>
  </div>

</div>

</main>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const DB = {
  livestock: [], poultry: [], crops: [],
  income: [], expenses: [],
  workers: [], salaries: [],
  production: [], harvests: []
};

function loadDB() {
  const s = localStorage.getItem('ezba_db');
  if (s) Object.assign(DB, JSON.parse(s));
}
function saveDB() {
  localStorage.setItem('ezba_db', JSON.stringify(DB));
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// NAV
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showSection(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
  document.querySelectorAll('.m-nav-btn').forEach(b => b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('nav button').forEach(b => {
    if (b.getAttribute('onclick') && b.getAttribute('onclick').includes(id)) b.classList.add('active');
  });
  document.querySelectorAll('.m-nav-btn[data-sec]').forEach(b => {
    if (b.getAttribute('data-sec') === id) b.classList.add('active');
  });
  if (id === 'dashboard') updateDashboard();
  if (id === 'livestock') { renderLivestock(); populateLsSaleIds(); }
  if (id === 'poultry')   { renderPoultry(); renderProduction(); }
  if (id === 'crops')     { renderCrops(); populateCropIds(); }
  if (id === 'income')    renderIncome();
  if (id === 'expenses')  renderExpenses();
  if (id === 'labor')     { renderLabor(); populateWorkerIds(); renderSalaries(); }
  if (id === 'reports')   generateReport();
  window.scrollTo(0, 0);
}

function toggleMore() {
  document.getElementById('moreMenu').classList.toggle('open');
  document.getElementById('moreOverlay').classList.toggle('open');
}
function closeMore() {
  document.getElementById('moreMenu').classList.remove('open');
  document.getElementById('moreOverlay').classList.remove('open');
}

function showSubTab(prefix, id) {
  const container = document.getElementById(id).closest('.section');
  container.querySelectorAll('.sub-panel').forEach(p => p.classList.remove('active'));
  container.querySelectorAll('.sub-tab').forEach(b => b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  event.target.classList.add('active');
  if (id === 'ls-sale')   populateLsSaleIds();
  if (id === 'cr-harvest') populateCropIds();
  if (id === 'lb-salary') { populateWorkerIds(); renderSalaries(); }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// UTILS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function fmt(n) {
  if (isNaN(n) || n == null) n = 0;
  return Number(n).toLocaleString('ar-AE', {minimumFractionDigits: 0, maximumFractionDigits: 2});
}
function fmtAED(n) { return fmt(n) + ' Ø¯.Ø¥'; }
function today()   { return new Date().toISOString().split('T')[0]; }
function uid()     { return Date.now().toString(36) + Math.random().toString(36).substr(2,4); }
function setToday(id) { const el = document.getElementById(id); if (el && !el.value) el.value = today(); }
function getVal(id) { const el = document.getElementById(id); return el ? el.value.trim() : ''; }
function getNum(id) { return parseFloat(document.getElementById(id).value) || 0; }

function deleteItem(arr, id, render) {
  const idx = arr.findIndex(x => x.id === id);
  if (idx !== -1) arr.splice(idx, 1);
  saveDB(); render(); updateDashboard();
}
function emptyRow(cols) {
  return `<tr><td colspan="${cols}" class="empty-state">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr>`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LIVESTOCK
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function addLivestock() {
  setToday('ls-date');
  const item = {
    id: uid(),
    type: getVal('ls-type'),
    ref: getVal('ls-id') || (getVal('ls-type') + '-' + Date.now().toString().slice(-4)),
    count: getNum('ls-count'),
    gender: getVal('ls-gender'),
    age: getNum('ls-age'),
    cost: getNum('ls-cost'),
    date: getVal('ls-date') || today(),
    notes: getVal('ls-notes'),
    status: 'Ù…ÙˆØ¬ÙˆØ¯'
  };
  if (!item.count || item.count < 1) return alert('Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ ØµØ­ÙŠØ­');
  DB.livestock.push(item);
  saveDB(); updateDashboard();
  alert('âœ… ØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­');
  ['ls-id','ls-notes'].forEach(id => document.getElementById(id).value = '');
  document.getElementById('ls-count').value = 1;
  document.getElementById('ls-cost').value = '';
  document.getElementById('ls-age').value = '';
}

function renderLivestock() {
  const typeF   = getVal('ls-filter-type');
  const statusF = getVal('ls-filter-status');
  const data = DB.livestock.filter(x =>
    (!typeF || x.type === typeF) && (!statusF || x.status === statusF)
  );
  const tbody = document.getElementById('livestockBody');
  if (!data.length) { tbody.innerHTML = emptyRow(9); return; }
  tbody.innerHTML = data.map(x => `
    <tr>
      <td>${x.type}</td><td>${x.ref}</td><td>${x.count}</td><td>${x.gender}</td>
      <td>${x.age} Ø´Ù‡Ø±</td><td class="td-amount-green">${fmtAED(x.cost)}</td>
      <td>${x.date}</td>
      <td><span class="badge ${x.status==='Ù…ÙˆØ¬ÙˆØ¯'?'badge-green':x.status==='Ù…Ø¨Ø§Ø¹'?'badge-amber':'badge-red'}">${x.status}</span></td>
      <td><button class="btn btn-red btn-sm" onclick="deleteLivestock('${x.id}')">Ø­Ø°Ù</button></td>
    </tr>`).join('');
}

function deleteLivestock(id) {
  if (!confirm('Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¬Ù„ØŸ')) return;
  deleteItem(DB.livestock, id, renderLivestock);
}

function populateLsSaleIds() {
  const sel = document.getElementById('ls-sale-id');
  const avail = DB.livestock.filter(x => x.status === 'Ù…ÙˆØ¬ÙˆØ¯');
  sel.innerHTML = avail.length
    ? avail.map(x => `<option value="${x.id}">${x.type} â€” ${x.ref}</option>`).join('')
    : '<option value="">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙˆØ§Ø´ÙŠ Ù…ØªØ§Ø­Ø©</option>';
  setToday('ls-sale-date');
}

function sellLivestock() {
  const id = getVal('ls-sale-id');
  const action = getVal('ls-sale-action');
  const price  = getNum('ls-sale-price');
  const date   = getVal('ls-sale-date') || today();
  const notes  = getVal('ls-sale-notes');
  if (!id) return alert('Ø§Ø®ØªØ± Ø­ÙŠÙˆØ§Ù† Ø£ÙˆÙ„Ø§Ù‹');
  const item = DB.livestock.find(x => x.id === id);
  if (!item) return;
  item.status = action;
  if (price > 0) {
    DB.income.push({
      id: uid(),
      source: action === 'Ù…Ø¨Ø§Ø¹' ? 'Ø¨ÙŠØ¹ Ù…ÙˆØ§Ø´ÙŠ' : 'Ø°Ø¨Ø­ â€” Ù…ÙˆØ§Ø´ÙŠ',
      amount: price, date,
      desc: `${action==='Ù…Ø¨Ø§Ø¹'?'Ø¨ÙŠØ¹':'Ø°Ø¨Ø­'}: ${item.type} ${item.ref} - ${notes}`
    });
  }
  saveDB(); updateDashboard();
  alert(`âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ ${action} Ø¨Ù†Ø¬Ø§Ø­`);
  populateLsSaleIds();
  document.getElementById('ls-sale-price').value = '';
  document.getElementById('ls-sale-notes').value = '';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// POULTRY
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function addPoultry() {
  setToday('pt-date');
  const item = {
    id: uid(), type: getVal('pt-type'), count: getNum('pt-count'),
    purpose: getVal('pt-purpose'), cost: getNum('pt-cost'),
    date: getVal('pt-date') || today(), notes: getVal('pt-notes'), status: 'Ù…ÙˆØ¬ÙˆØ¯'
  };
  if (!item.count) return alert('Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ø¯Ø¯');
  DB.poultry.push(item); saveDB(); updateDashboard();
  alert('âœ… ØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ©');
  document.getElementById('pt-count').value = 1;
  document.getElementById('pt-cost').value = '';
  document.getElementById('pt-notes').value = '';
}

function renderPoultry() {
  const tbody = document.getElementById('poultryBody');
  if (!DB.poultry.length) { tbody.innerHTML = emptyRow(7); return; }
  tbody.innerHTML = DB.poultry.map(x => `
    <tr>
      <td>${x.type}</td><td>${x.count}</td><td>${x.purpose}</td>
      <td class="td-amount-green">${fmtAED(x.cost)}</td><td>${x.date}</td>
      <td><span class="badge ${x.status==='Ù…ÙˆØ¬ÙˆØ¯'?'badge-green':'badge-red'}">${x.status}</span></td>
      <td><button class="btn btn-red btn-sm" onclick="deletePoultry('${x.id}')">Ø­Ø°Ù</button></td>
    </tr>`).join('');
}

function deletePoultry(id) {
  if (!confirm('Ø­Ø°ÙØŸ')) return;
  deleteItem(DB.poultry, id, () => renderPoultry());
}

function addProduction() {
  setToday('pt-prod-date');
  const item = {
    id: uid(), type: getVal('pt-prod-type'),
    qty: getNum('pt-prod-qty'), price: getNum('pt-prod-price'),
    date: getVal('pt-prod-date') || today()
  };
  const total = item.qty * item.price;
  DB.production.push(item);
  if (total > 0) {
    DB.income.push({
      id: uid(),
      source: item.type === 'Ø¨ÙŠØ¶' ? 'Ø¨ÙŠØ¹ Ø¨ÙŠØ¶' : 'Ø¨ÙŠØ¹ Ø¯ÙˆØ§Ø¬Ù†',
      amount: total, date: item.date,
      desc: `Ø¥Ù†ØªØ§Ø¬ ${item.type}: ${item.qty} ÙˆØ­Ø¯Ø© Ã— ${item.price} Ø¯.Ø¥`
    });
  }
  saveDB(); updateDashboard(); renderProduction();
  alert('âœ… ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„');
  document.getElementById('pt-prod-qty').value = '';
  document.getElementById('pt-prod-price').value = '';
}

function renderProduction() {
  const tbody = document.getElementById('productionBody');
  if (!DB.production.length) { tbody.innerHTML = emptyRow(6); return; }
  tbody.innerHTML = DB.production.map(x => `
    <tr>
      <td>${x.type}</td><td>${x.qty}</td>
      <td class="td-amount-green">${fmtAED(x.price)}</td>
      <td class="td-amount-green">${fmtAED(x.qty * x.price)}</td>
      <td>${x.date}</td>
      <td><button class="btn btn-red btn-sm" onclick="deleteProd('${x.id}')">Ø­Ø°Ù</button></td>
    </tr>`).join('');
}

function deleteProd(id) {
  if (!confirm('Ø­Ø°ÙØŸ')) return;
  deleteItem(DB.production, id, renderProduction);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CROPS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function addCrop() {
  setToday('cr-plant-date');
  const item = {
    id: uid(), type: getVal('cr-type'), area: getNum('cr-area'),
    cost: getNum('cr-cost'), plantDate: getVal('cr-plant-date') || today(),
    harvestDate: getVal('cr-harvest-date'), notes: getVal('cr-notes'), status: 'Ù†Ø§Ù…ÙŠ'
  };
  if (!item.type) return alert('Ø£Ø¯Ø®Ù„ Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØµÙˆÙ„');
  DB.crops.push(item); saveDB();
  alert('âœ… ØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ©');
  ['cr-type','cr-notes'].forEach(id => document.getElementById(id).value = '');
  document.getElementById('cr-area').value = '';
  document.getElementById('cr-cost').value = '';
}

function renderCrops() {
  const tbody = document.getElementById('cropsBody');
  if (!DB.crops.length) { tbody.innerHTML = emptyRow(7); return; }
  tbody.innerHTML = DB.crops.map(x => `
    <tr>
      <td>${x.type}</td><td>${x.area} ÙØ¯Ø§Ù†</td>
      <td class="td-amount-green">${fmtAED(x.cost)}</td>
      <td>${x.plantDate}</td><td>${x.harvestDate || 'â€”'}</td>
      <td><span class="badge ${x.status==='Ù†Ø§Ù…ÙŠ'?'badge-green':x.status==='Ù…Ø­ØµÙˆØ¯'?'badge-amber':'badge-brown'}">${x.status}</span></td>
      <td><button class="btn btn-red btn-sm" onclick="deleteCrop('${x.id}')">Ø­Ø°Ù</button></td>
    </tr>`).join('');
}

function deleteCrop(id) {
  if (!confirm('Ø­Ø°ÙØŸ')) return;
  deleteItem(DB.crops, id, renderCrops);
}

function populateCropIds() {
  const sel = document.getElementById('cr-harvest-id');
  const avail = DB.crops.filter(x => x.status !== 'Ù…Ø­ØµÙˆØ¯');
  sel.innerHTML = avail.length
    ? avail.map(x => `<option value="${x.id}">${x.type} â€” ${x.plantDate}</option>`).join('')
    : '<option value="">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ø§ØµÙŠÙ„ Ù†Ø§Ù…ÙŠØ©</option>';
  setToday('cr-harvest-date2');
}

function recordHarvest() {
  const cropId = getVal('cr-harvest-id');
  const qty   = getNum('cr-harvest-qty');
  const unit  = getVal('cr-harvest-unit');
  const price = getNum('cr-harvest-price');
  const date  = getVal('cr-harvest-date2') || today();
  if (!cropId) return alert('Ø§Ø®ØªØ± Ù…Ø­ØµÙˆÙ„');
  const crop = DB.crops.find(x => x.id === cropId);
  if (!crop) return;
  DB.harvests.push({ id: uid(), cropId, cropName: crop.type, qty, unit, price, total: qty*price, date });
  crop.status = 'Ù…Ø­ØµÙˆØ¯';
  if (qty * price > 0) {
    DB.income.push({
      id: uid(), source: 'Ø¨ÙŠØ¹ Ù…Ø­Ø§ØµÙŠÙ„', amount: qty*price, date,
      desc: `Ø­ØµØ§Ø¯ ${crop.type}: ${qty} ${unit} Ã— ${price} Ø¯.Ø¥`
    });
  }
  saveDB(); updateDashboard(); renderHarvests(); populateCropIds();
  alert('âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­ØµØ§Ø¯');
  document.getElementById('cr-harvest-qty').value = '';
  document.getElementById('cr-harvest-price').value = '';
}

function renderHarvests() {
  const tbody = document.getElementById('harvestBody');
  if (!DB.harvests.length) { tbody.innerHTML = emptyRow(7); return; }
  tbody.innerHTML = DB.harvests.map(x => `
    <tr>
      <td>${x.cropName}</td><td>${x.qty}</td><td>${x.unit}</td>
      <td class="td-amount-green">${fmtAED(x.price)}</td>
      <td class="td-amount-green">${fmtAED(x.total)}</td>
      <td>${x.date}</td>
      <td><button class="btn btn-red btn-sm" onclick="deleteHarvest('${x.id}')">Ø­Ø°Ù</button></td>
    </tr>`).join('');
}

function deleteHarvest(id) {
  if (!confirm('Ø­Ø°ÙØŸ')) return;
  deleteItem(DB.harvests, id, renderHarvests);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INCOME
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function addIncome() {
  setToday('inc-date');
  const item = {
    id: uid(), source: getVal('inc-source'),
    amount: getNum('inc-amount'),
    date: getVal('inc-date') || today(),
    desc: getVal('inc-desc')
  };
  if (!item.amount) return alert('Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº');
  DB.income.push(item); saveDB(); updateDashboard(); renderIncome();
  pushToSheets('Ø¯Ø®Ù„', item.desc || item.source, item.source, item.amount, 'App');
  alert('âœ… ØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ©');
  document.getElementById('inc-amount').value = '';
  document.getElementById('inc-desc').value = '';
}

function renderIncome() {
  const monthF  = getVal('inc-filter-month');
  const sourceF = getVal('inc-filter-source');
  const data = DB.income.filter(x =>
    (!monthF || x.date.startsWith(monthF)) &&
    (!sourceF || x.source === sourceF)
  ).sort((a,b) => b.date.localeCompare(a.date));

  const tbody = document.getElementById('incomeBody');
  const totEl = document.getElementById('incomeTotal');
  if (!data.length) { tbody.innerHTML = emptyRow(5); totEl.style.display='none'; return; }

  tbody.innerHTML = data.map(x => `
    <tr>
      <td>${x.date}</td>
      <td><span class="badge badge-green">${x.source}</span></td>
      <td class="td-amount-green">${fmtAED(x.amount)}</td>
      <td>${x.desc || 'â€”'}</td>
      <td><button class="btn btn-red btn-sm" onclick="deleteIncome('${x.id}')">Ø­Ø°Ù</button></td>
    </tr>`).join('');

  const total = data.reduce((s,x) => s + x.amount, 0);
  totEl.style.display = 'flex';
  totEl.textContent = `ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${fmtAED(total)}`;
}

function deleteIncome(id) {
  if (!confirm('Ø­Ø°ÙØŸ')) return;
  deleteItem(DB.income, id, renderIncome);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// EXPENSES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function addExpense() {
  setToday('exp-date');
  const item = {
    id: uid(), cat: getVal('exp-cat'),
    amount: getNum('exp-amount'),
    date: getVal('exp-date') || today(),
    vendor: getVal('exp-vendor'), desc: getVal('exp-desc')
  };
  if (!item.amount) return alert('Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº');
  DB.expenses.push(item); saveDB(); updateDashboard(); renderExpenses();
  pushToSheets('ØµØ±Ù', item.desc || item.cat, item.cat, item.amount, 'App');
  alert('âœ… ØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ©');
  document.getElementById('exp-amount').value = '';
  document.getElementById('exp-vendor').value = '';
  document.getElementById('exp-desc').value = '';
}

function renderExpenses() {
  const monthF = getVal('exp-filter-month');
  const catF   = getVal('exp-filter-cat');
  const data = DB.expenses.filter(x =>
    (!monthF || x.date.startsWith(monthF)) &&
    (!catF || x.cat === catF)
  ).sort((a,b) => b.date.localeCompare(a.date));

  const tbody = document.getElementById('expenseBody');
  const totEl = document.getElementById('expenseTotal');
  if (!data.length) { tbody.innerHTML = emptyRow(6); totEl.style.display='none'; return; }

  tbody.innerHTML = data.map(x => `
    <tr>
      <td>${x.date}</td>
      <td><span class="badge badge-red">${x.cat}</span></td>
      <td class="td-amount-red">${fmtAED(x.amount)}</td>
      <td>${x.vendor || 'â€”'}</td>
      <td>${x.desc || 'â€”'}</td>
      <td><button class="btn btn-red btn-sm" onclick="deleteExpense('${x.id}')">Ø­Ø°Ù</button></td>
    </tr>`).join('');

  const total = data.reduce((s,x) => s + x.amount, 0);
  totEl.style.display = 'flex';
  totEl.style.background = '#ffeaea';
  totEl.style.color = 'var(--red-dark)';
  totEl.textContent = `ğŸ“¤ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${fmtAED(total)}`;
}

function deleteExpense(id) {
  if (!confirm('Ø­Ø°ÙØŸ')) return;
  deleteItem(DB.expenses, id, renderExpenses);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LABOR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function addWorker() {
  setToday('lb-hire-date');
  const item = {
    id: uid(), name: getVal('lb-name'), nationality: getVal('lb-nationality'),
    role: getVal('lb-role'), salary: getNum('lb-salary'),
    phone: getVal('lb-phone'), hireDate: getVal('lb-hire-date') || today(), status: 'Ù†Ø´Ø·'
  };
  if (!item.name) return alert('Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ù…Ù„');
  DB.workers.push(item); saveDB();
  alert('âœ… ØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ©');
  ['lb-name','lb-nationality','lb-role','lb-phone'].forEach(id => document.getElementById(id).value = '');
  document.getElementById('lb-salary').value = '';
}

function renderLabor() {
  const tbody = document.getElementById('laborBody');
  if (!DB.workers.length) { tbody.innerHTML = emptyRow(8); return; }
  tbody.innerHTML = DB.workers.map(x => `
    <tr>
      <td>${x.name}</td><td>${x.nationality || 'â€”'}</td><td>${x.role || 'â€”'}</td>
      <td class="td-amount-blue">${fmtAED(x.salary)}</td>
      <td>${x.phone || 'â€”'}</td><td>${x.hireDate}</td>
      <td><span class="badge ${x.status==='Ù†Ø´Ø·'?'badge-green':'badge-red'}">${x.status}</span></td>
      <td style="display:flex;gap:6px;flex-wrap:wrap;">
        <button class="btn btn-ghost btn-sm" onclick="toggleWorker('${x.id}')">${x.status==='Ù†Ø´Ø·'?'Ø¥ÙŠÙ‚Ø§Ù':'ØªÙØ¹ÙŠÙ„'}</button>
        <button class="btn btn-red btn-sm" onclick="deleteWorker('${x.id}')">Ø­Ø°Ù</button>
      </td>
    </tr>`).join('');
}

function toggleWorker(id) {
  const w = DB.workers.find(x => x.id === id);
  if (w) { w.status = w.status === 'Ù†Ø´Ø·' ? 'Ù…ØªÙˆÙ‚Ù' : 'Ù†Ø´Ø·'; saveDB(); renderLabor(); }
}

function deleteWorker(id) {
  if (!confirm('Ø­Ø°Ù Ø§Ù„Ø¹Ø§Ù…Ù„ØŸ')) return;
  deleteItem(DB.workers, id, renderLabor);
}

function populateWorkerIds() {
  const sel = document.getElementById('lb-pay-id');
  const active = DB.workers.filter(x => x.status === 'Ù†Ø´Ø·');
  sel.innerHTML = active.length
    ? active.map(x => `<option value="${x.id}">${x.name} â€” ${x.role}</option>`).join('')
    : '<option value="">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù…Ø§Ù„ Ù†Ø´Ø·ÙˆÙ†</option>';
  const monthEl = document.getElementById('lb-pay-month');
  if (!monthEl.value) {
    const now = new Date();
    monthEl.value = `${now.getFullYear()}-${String(now.getMonth()+1).padStart(2,'0')}`;
  }
}

function paySalary() {
  const workerId = getVal('lb-pay-id');
  const month    = getVal('lb-pay-month');
  const amount   = getNum('lb-pay-amount');
  const notes    = getVal('lb-pay-notes');
  if (!workerId) return alert('Ø§Ø®ØªØ± Ø§Ù„Ø¹Ø§Ù…Ù„');
  if (!amount)   return alert('Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº');
  const worker = DB.workers.find(x => x.id === workerId);
  DB.salaries.push({ id: uid(), workerId, workerName: worker ? worker.name : 'â€”', month, amount, notes });
  DB.expenses.push({
    id: uid(), cat: 'Ø±ÙˆØ§ØªØ¨', amount,
    date: month + '-01', vendor: worker ? worker.name : 'â€”',
    desc: `Ø±Ø§ØªØ¨ ${month} - ${notes}`
  });
  saveDB(); updateDashboard(); renderSalaries();
  alert('âœ… ØªÙ… ØµØ±Ù Ø§Ù„Ø±Ø§ØªØ¨');
  document.getElementById('lb-pay-amount').value = '';
  document.getElementById('lb-pay-notes').value = '';
}

function renderSalaries() {
  const tbody = document.getElementById('salaryBody');
  if (!DB.salaries.length) { tbody.innerHTML = emptyRow(5); return; }
  tbody.innerHTML = DB.salaries.map(x => `
    <tr>
      <td>${x.workerName}</td><td>${x.month}</td>
      <td class="td-amount-blue">${fmtAED(x.amount)}</td>
      <td>${x.notes || 'â€”'}</td>
      <td><button class="btn btn-red btn-sm" onclick="deleteSalary('${x.id}')">Ø­Ø°Ù</button></td>
    </tr>`).join('');
}

function deleteSalary(id) {
  if (!confirm('Ø­Ø°ÙØŸ')) return;
  deleteItem(DB.salaries, id, renderSalaries);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DASHBOARD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function updateDashboard() {
  const totalInc = DB.income.reduce((s,x) => s + x.amount, 0);
  const totalExp = DB.expenses.reduce((s,x) => s + x.amount, 0);
  const profit   = totalInc - totalExp;

  document.getElementById('d-income').textContent  = fmt(totalInc);
  document.getElementById('d-expense').textContent = fmt(totalExp);
  document.getElementById('d-profit').textContent  = fmt(profit);

  // Change profit card colour
  const profCard = document.getElementById('d-profit').closest('.kpi');
  if (profCard) {
    profCard.className = 'kpi ' + (profit >= 0 ? 'kpi-blue' : 'kpi-red');
  }

  const totalLivestock = DB.livestock.filter(x=>x.status==='Ù…ÙˆØ¬ÙˆØ¯').reduce((s,x)=>s+x.count,0);
  const totalPoultry   = DB.poultry.filter(x=>x.status==='Ù…ÙˆØ¬ÙˆØ¯').reduce((s,x)=>s+x.count,0);
  document.getElementById('d-livestock').textContent = totalLivestock;
  document.getElementById('d-poultry').textContent   = totalPoultry;

  // Recent transactions
  const all = [
    ...DB.income.map(x  => ({date:x.date, type:'Ø¥ÙŠØ±Ø§Ø¯', amount:x.amount, desc:x.desc||x.source, cls:'green'})),
    ...DB.expenses.map(x => ({date:x.date, type:'Ù…ØµØ±ÙˆÙ', amount:x.amount, desc:x.desc||x.cat,    cls:'red'}))
  ].sort((a,b) => b.date.localeCompare(a.date)).slice(0,10);

  const tbody = document.getElementById('recentBody');
  tbody.innerHTML = all.length ? all.map(x => `
    <tr>
      <td>${x.date}</td>
      <td><span class="badge badge-${x.cls}">${x.type}</span></td>
      <td class="td-amount-${x.cls}">${fmtAED(x.amount)}</td>
      <td>${x.desc}</td>
    </tr>`).join('') : emptyRow(4);

  // Inventory summary
  const lsTypes = {}, ptTypes = {};
  DB.livestock.filter(x=>x.status==='Ù…ÙˆØ¬ÙˆØ¯').forEach(x => { lsTypes[x.type] = (lsTypes[x.type]||0)+x.count; });
  DB.poultry.filter(x=>x.status==='Ù…ÙˆØ¬ÙˆØ¯').forEach(x   => { ptTypes[x.type] = (ptTypes[x.type]||0)+x.count; });

  let invHtml = '';
  Object.entries(lsTypes).forEach(([k,v]) =>
    invHtml += `<div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border);">
      <span>ğŸ„ ${k}</span><strong style="color:var(--green-dark);">${v} Ø±Ø£Ø³</strong></div>`);
  Object.entries(ptTypes).forEach(([k,v]) =>
    invHtml += `<div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border);">
      <span>ğŸ” ${k}</span><strong style="color:var(--amber-dark);">${v} Ø·ÙŠØ±</strong></div>`);
  DB.crops.filter(x=>x.status==='Ù†Ø§Ù…ÙŠ').forEach(x =>
    invHtml += `<div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border);">
      <span>ğŸŒ± ${x.type}</span><strong style="color:var(--green-dark);">${x.area} ÙØ¯Ø§Ù†</strong></div>`);

  if (!invHtml) invHtml = '<p style="color:var(--light);font-weight:600;padding:12px 0;">Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø±Ø¯ Ø¨Ø¹Ø¯</p>';
  document.getElementById('inventorySummary').innerHTML = invHtml;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// REPORTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function generateReport() {
  const from = getVal('rep-from');
  const to   = getVal('rep-to');

  let incData = DB.income;
  let expData = DB.expenses;
  if (from) { incData = incData.filter(x => x.date >= from+'-01'); expData = expData.filter(x => x.date >= from+'-01'); }
  if (to)   { incData = incData.filter(x => x.date <= to+'-31');   expData = expData.filter(x => x.date <= to+'-31'); }

  const totalInc = incData.reduce((s,x)=>s+x.amount,0);
  const totalExp = expData.reduce((s,x)=>s+x.amount,0);
  const totalSal = DB.salaries.reduce((s,x)=>s+x.amount,0);
  const profit   = totalInc - totalExp;

  document.getElementById('rep-inc').textContent  = fmt(totalInc);
  document.getElementById('rep-exp').textContent  = fmt(totalExp);
  document.getElementById('rep-sal').textContent  = fmt(totalSal);
  document.getElementById('rep-prof').textContent = fmt(profit);

  const profCard2 = document.getElementById('rep-prof').closest('.kpi');
  if (profCard2) profCard2.className = 'kpi ' + (profit>=0 ? 'kpi-blue' : 'kpi-red');

  const byCat = {};
  expData.forEach(x => { byCat[x.cat] = (byCat[x.cat]||0)+x.amount; });
  const catTotal = Object.values(byCat).reduce((s,v)=>s+v,0)||1;
  document.getElementById('expByCategory').innerHTML = Object.entries(byCat)
    .sort((a,b)=>b[1]-a[1])
    .map(([k,v]) => `
      <div style="display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1.5px solid var(--border);">
        <span style="font-weight:700;">${k}</span>
        <span>
          <strong class="td-amount-red">${fmtAED(v)}</strong>
          <span style="color:var(--light);font-size:.78rem;margin-right:6px;">${Math.round(v/catTotal*100)}%</span>
        </span>
      </div>`).join('') || '<p style="color:var(--light);padding:10px 0;font-weight:600;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</p>';

  const bySrc = {};
  incData.forEach(x => { bySrc[x.source] = (bySrc[x.source]||0)+x.amount; });
  const srcTotal = Object.values(bySrc).reduce((s,v)=>s+v,0)||1;
  document.getElementById('incBySource').innerHTML = Object.entries(bySrc)
    .sort((a,b)=>b[1]-a[1])
    .map(([k,v]) => `
      <div style="display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1.5px solid var(--border);">
        <span style="font-weight:700;">${k}</span>
        <span>
          <strong class="td-amount-green">${fmtAED(v)}</strong>
          <span style="color:var(--light);font-size:.78rem;margin-right:6px;">${Math.round(v/srcTotal*100)}%</span>
        </span>
      </div>`).join('') || '<p style="color:var(--light);padding:10px 0;font-weight:600;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</p>';

  const all = [
    ...incData.map(x=>({date:x.date,type:'Ø¥ÙŠØ±Ø§Ø¯',cat:x.source,amount:x.amount,desc:x.desc||'',cls:'green'})),
    ...expData.map(x=>({date:x.date,type:'Ù…ØµØ±ÙˆÙ',cat:x.cat,  amount:x.amount,desc:x.desc||'',cls:'red'}))
  ].sort((a,b)=>b.date.localeCompare(a.date));

  const tbody = document.getElementById('repTransBody');
  tbody.innerHTML = all.length ? all.map(x=>`
    <tr>
      <td>${x.date}</td>
      <td><span class="badge badge-${x.cls}">${x.type}</span></td>
      <td>${x.cat}</td>
      <td class="td-amount-${x.cls}">${fmtAED(x.amount)}</td>
      <td>${x.desc}</td>
    </tr>`).join('') : emptyRow(5);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SHEETS SYNC
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const VERCEL_API = 'https://vercelagent-zeta.vercel.app';
let sheetsLoaded = false;

async function loadFromSheets() {
  const banner = document.getElementById('syncBanner');
  try {
    banner.style.display = 'flex';
    banner.querySelector('.sync-msg').textContent = 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Google Sheets...';

    const res  = await fetch(`${VERCEL_API}/api/data`, { method:'GET' });
    if (!res.ok) throw new Error(`HTTP ${res.status}`);
    const json = await res.json();
    if (!json.ok) throw new Error(json.error || 'Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ');

    const transactions = json.transactions || [];
    const inventory    = json.inventory    || [];

    DB.income   = transactions.filter(x=>x.type==='Ø¯Ø®Ù„').map(x=>({
      id: x.id||uid(), source: x.category||x.item, amount: Number(x.amount)||0,
      date: x.date ? x.date.split(' ')[0] : today(), desc: x.item,
    }));
    DB.expenses = transactions.filter(x=>x.type==='ØµØ±Ù').map(x=>({
      id: x.id||uid(), cat: x.category||x.item, amount: Number(x.amount)||0,
      date: x.date ? x.date.split(' ')[0] : today(), vendor: x.user||'', desc: x.item,
    }));

    DB.livestock = [];
    DB.poultry   = [];
    inventory.forEach(x => {
      if (x.type==='Ù…ÙˆØ§Ø´ÙŠ')
        DB.livestock.push({ id:uid(), type:x.item, ref:x.item, count:x.qty, status:'Ù…ÙˆØ¬ÙˆØ¯', gender:x.notes||'', cost:0, date:today(), notes:'' });
      else if (x.type==='Ø¯ÙˆØ§Ø¬Ù†')
        DB.poultry.push({ id:uid(), type:x.item, count:x.qty, status:'Ù…ÙˆØ¬ÙˆØ¯', purpose:'', cost:0, date:today(), notes:'' });
    });

    saveDB(); sheetsLoaded = true;
    banner.querySelector('.sync-msg').textContent = `âœ… ØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„ â€” ${transactions.length} Ø¹Ù…Ù„ÙŠØ©`;
    setTimeout(() => { banner.style.display='none'; }, 3000);
    updateDashboard();

  } catch(e) {
    banner.querySelector('.sync-msg').textContent = `âš ï¸ ØªØ¹Ø°Ù‘Ø± Ø§Ù„Ø§ØªØµØ§Ù„ â€” ÙŠØ¹Ù…Ù„ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©`;
    banner.style.background = '#b45309';
    setTimeout(() => { banner.style.display='none'; }, 4000);
    console.warn('Sheets sync failed:', e);
  }
}

async function refreshData() {
  const btn = document.getElementById('btnRefresh');
  btn.textContent = 'âŸ³ Ø¬Ø§Ø±ÙŠ...';
  btn.style.opacity = '.7';
  btn.disabled = true;
  await loadFromSheets();
  btn.textContent = 'ğŸ”„ ØªØ­Ø¯ÙŠØ«';
  btn.style.opacity = '1';
  btn.disabled = false;
  const active = document.querySelector('.section.active');
  if (active) {
    const id = active.id;
    if (id==='income')   renderIncome();
    if (id==='expenses') renderExpenses();
    if (id==='livestock') renderLivestock();
    if (id==='poultry')  renderPoultry();
    if (id==='reports')  generateReport();
  }
}

async function pushToSheets(kind, item, category, amount, user) {
  if (!VERCEL_API || VERCEL_API.includes('your-project')) return;
  try {
    await fetch(`${VERCEL_API}/api/data`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ type:kind, item, category, amount, user }),
    });
  } catch(e) { console.warn('Push to Sheets failed:', e); }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function init() {
  loadDB(); updateDashboard();

  const now = new Date();
  document.getElementById('headerDate').textContent =
    now.toLocaleDateString('ar-AE', { day:'numeric', month:'long', year:'numeric' });

  document.querySelectorAll('input[type="date"]').forEach(el => { if (!el.value) el.value = today(); });

  // Show refresh btn on desktop too
  document.getElementById('btnRefresh').style.display = 'inline-block';

  if (VERCEL_API && !VERCEL_API.includes('your-project')) loadFromSheets();
}

init();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PWA INSTALL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let deferredPrompt = null;
const installBanner = document.getElementById('installBanner');
const btnInstall    = document.getElementById('btnInstall');
const btnDismiss    = document.getElementById('btnDismiss');
const btnAddHome    = document.getElementById('btnAddHome');

const isIOS              = /iphone|ipad|ipod/i.test(navigator.userAgent);
const isInStandaloneMode = ('standalone' in window.navigator) && window.navigator.standalone;
if (isIOS && !isInStandaloneMode) btnAddHome.style.display = 'inline-block';

window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault(); deferredPrompt = e;
  installBanner.classList.remove('hidden');
  btnAddHome.style.display = 'inline-block';
});

function triggerInstall() {
  if (isIOS && !isInStandaloneMode) { document.getElementById('iosHint').style.display='block'; return; }
  if (deferredPrompt) {
    installBanner.classList.add('hidden');
    deferredPrompt.prompt();
    deferredPrompt.userChoice.then(()=>{ deferredPrompt=null; btnAddHome.style.display='none'; });
  }
}

btnInstall && btnInstall.addEventListener('click', triggerInstall);
btnDismiss && btnDismiss.addEventListener('click', ()=>{ installBanner.classList.add('hidden'); });
window.addEventListener('appinstalled', ()=>{ installBanner.classList.add('hidden'); btnAddHome.style.display='none'; deferredPrompt=null; });
</script>


</body></html>
